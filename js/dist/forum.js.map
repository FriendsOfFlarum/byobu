{"version":3,"sources":["webpack://@fof/byobu/webpack/bootstrap","webpack://@fof/byobu/./forum.js","webpack://@fof/byobu/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/byobu/./src/common/helpers/recipientCountLabel.js","webpack://@fof/byobu/./src/common/helpers/recipientLabel.js","webpack://@fof/byobu/./src/common/helpers/recipientsLabel.js","webpack://@fof/byobu/./src/forum/addDiscussPrivatelyControl.js","webpack://@fof/byobu/./src/forum/addHasRecipientsBadge.js","webpack://@fof/byobu/./src/forum/addPrivacySetting.js","webpack://@fof/byobu/./src/forum/addPrivateDiscussionsPage.js","webpack://@fof/byobu/./src/forum/addPrivateMessageSessionDropdownLinkButton.js","webpack://@fof/byobu/./src/forum/addRecipientComposer.js","webpack://@fof/byobu/./src/forum/addRecipientLabels.js","webpack://@fof/byobu/./src/forum/addRecipientsControl.js","webpack://@fof/byobu/./src/forum/components/AddRecipientModal.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionAddedNotification.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionComposer.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionIndex.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionList.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionNotification.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionReplyNotification.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionsUserPage.js","webpack://@fof/byobu/./src/forum/components/RecipientSearch.js","webpack://@fof/byobu/./src/forum/components/RecipientsModified.js","webpack://@fof/byobu/./src/forum/components/sources/GroupSearchSource.js","webpack://@fof/byobu/./src/forum/components/sources/UserSearchSource.js","webpack://@fof/byobu/./src/forum/index.js","webpack://@fof/byobu/./src/forum/removeTagComposer.js","webpack://@fof/byobu/external \"flarum.core.compat['Model']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Badge']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Button']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionComposer']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionHero']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionList']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionListItem']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/EventPost']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LinkButton']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LogInModal']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Modal']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Notification']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/NotificationGrid']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Page']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Search']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Select']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/SelectDropdown']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/SessionDropdown']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/SettingsPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Switch']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/UserPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/WelcomeHero']\"","webpack://@fof/byobu/external \"flarum.core.compat['extend']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/avatar']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/highlight']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/icon']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/listItems']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/username']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/Discussion']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/Group']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/User']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/ItemList']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/UserControls']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/classList']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/extract']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/extractText']\""],"names":["recipientCountLabel","count","attrs","style","className","label","app","translator","transChoice","m","recipientLabel","recipient","link","title","username","href","route","user","config","namePlural","trans","recipientsLabel","recipients","children","forEach","push","extend","items","session","id","forum","attribute","blocksPd","cannotBeDirectMessaged","add","component","icon","onclick","deferred","PrivateDiscussionComposer","prototype","composer","load","show","resolve","promise","addHasRecipientsBadge","badges","recipientUsers","length","recipientGroups","type","state","preferences","onchange","value","preferenceSaver","Number","data","routes","path","addDefaultRecipients","store","getBy","override","original","chooseRecipients","param","tagsClassName","modal","selectedRecipients","onsubmit","$","focus","css","toArray","bind","users","groups","relationships","addToDiscussion","discussion","long","concat","props","params","include","canEditRecipients","map","save","then","history","back","AddRecipientModal","init","selected","prop","assignInitialRecipients","merge","recipientSearch","isDismissible","group","content","isDisabled","disabled","hide","select","e","metaKey","ctrlKey","indexOf","index","submit","preventDefault","current","stream","update","redraw","close","strategy","PrivateDiscussionNotification","notification","subject","fromUser","attributes","PrivateDiscussionIndex","previous","lastDiscussion","cache","privateDiscussionList","Object","keys","some","key","bodyClass","onunload","scrollTop","window","view","hero","sidebarItems","viewItems","actionItems","discussionList","render","isInitialized","context","arguments","setTitle","setTitleCount","oldHeroHeight","heroHeight","outerHeight","height","scroll","setTimeout","$discussion","indexTop","indexBottom","discussionTop","offset","top","discussionBottom","canStartDiscussion","itemClassName","newDiscussion","navItems","buttonClassName","stickyParams","sortMap","sortOptions","i","options","sort","changeSort","refresh","markAllAsRead","searching","q","clearSearch","routeName","filter","composeNewDiscussion","onlogin","confirmation","confirm","readTime","Date","PrivateDiscussionList","PrivateDiscussionReplyNotification","postNumber","PrivateDiscussionsUserPage","loadUser","list","newDiscussionAction","reject","marginBottom","RecipientSearch","$search","on","target","addRecipient","parentNode","clearTimeout","typingTimer","doSearch","loading","sources","sourceItems","removeRecipient","open","focused","active","loadingSources","element","placeholder","oninput","withAttr","onfocus","hasFocus","onblur","size","source","canEditUserRecipients","canEditGroupRecipients","clear","values","split","findRecipient","remove","getById","RecipientsModified","initProps","diff","diff1","diff2","item","post","oldRecipients","newRecipients","added","removed","usersAdded","usersRemoved","groupsAdded","groupsRemoved","descriptionKey","localeBase","descriptionData","GroupSearchSource","search","query","find","page","limit","toLowerCase","results","all","substr","groupName","name","UserSearchSource","byobuResults","pushResults","payload","result","initializers","private_discussions","Discussion","hasMany","oldRecipientUsers","oldRecipientGroups","User","postComponents","recipientsModified","addRecipientComposer","addRecipientLabels","addRecipientsControl","addPrivacySetting","addPrivateMessageSessionDropdownLinkButton","addDiscussPrivatelyControl","addPrivateDiscussionsPage","notificationComponents","byobuPrivateDiscussionCreated","byobuPrivateDiscussionReplied","byobuPrivateDiscussionAdded","removeTagComposer","tags","tag"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/common';\nexport * from './src/forum';","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function recipientCountLabel(count, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'RecipientLabel ' + (attrs.className || '');\n\n  var label = app.translator.transChoice('fof-byobu.forum.labels.recipients', count, {count});\n\n  return (\n    m('span', attrs,\n        <span className=\"RecipientLabel-text\">\n            {label}\n        </span>\n    )\n  );\n}\n","import extract from 'flarum/utils/extract';\nimport username from 'flarum/helpers/username';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\n\nexport default function recipientLabel(recipient, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'RecipientLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n\n  var label;\n\n  if (recipient instanceof User) {\n      label = username(recipient);\n\n      if (link) {\n          attrs.title = recipient.username() || '';\n          attrs.href = app.route.user(recipient);\n          attrs.config = m.route;\n      }\n  } else if (recipient instanceof Group) {\n      label = recipient.namePlural();\n  } else {\n      attrs.className += ' none';\n      label = app.translator.trans('fof-byobu.forum.labels.user_deleted');\n  }\n\n  return (\n    m((link ? 'a' : 'span'), attrs,\n        <span className=\"RecipientLabel-text\">\n            {label}\n        </span>\n    )\n  );\n}\n","import extract from 'flarum/utils/extract';\nimport recipientLabel from './recipientLabel';\n\nexport default function recipientsLabel(recipients, attrs = {}) {\n  const children = [];\n  const link = extract(attrs, 'link');\n\n  attrs.className = 'RecipientsLabel ' + (attrs.className || '');\n\n  if (recipients) {\n      recipients.forEach(recipient => {\n          children.push(recipientLabel(recipient, {link}));\n      });\n  } else {\n    children.push(recipientLabel());\n  }\n\n  return <span {...attrs}>{children}</span>;\n}\n","import {extend} from 'flarum/extend';\nimport UserControls from 'flarum/utils/UserControls';\nimport PrivateDiscussionComposer from \"./components/PrivateDiscussionComposer\";\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default function () {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(UserControls, 'userControls', function (items, user) {\n        if (app.session.user &&\n            app.session.user.id() !== user.id() &&\n            app.forum.attribute('canStartPrivateDiscussion') &&\n            (user.blocksPd() === false || (app.forum.attribute('canStartPrivateDiscussionWithBlockers') && user.cannotBeDirectMessaged()))\n        ) {\n            items.add('private-discussion', Button.component({\n                children: app.translator.trans('fof-byobu.forum.buttons.send_pd', {username: user.username()}),\n                icon: 'far fa-map',\n                onclick: () => {\n                    const deferred = m.deferred();\n\n                    let recipients = new ItemList();\n                    recipients.add('users:' + user.id(), user);\n                    recipients.add('users:' + app.session.user.id(), app.session.user);\n\n                    PrivateDiscussionComposer.prototype.recipients = recipients;\n\n                    const component = new PrivateDiscussionComposer();\n\n                    app.composer.load(component);\n                    app.composer.show();\n\n                    deferred.resolve(component);\n\n                    return deferred.promise;\n                }\n            }));\n        }\n\n        return items;\n    });\n}\n","import {extend} from \"flarum/extend\";\nimport Discussion from \"flarum/models/Discussion\";\nimport Badge from \"flarum/components/Badge\";\n\nexport default function addHasRecipientsBadge() {\n    extend(Discussion.prototype, 'badges', function (badges) {\n        if (this.recipientUsers().length || this.recipientGroups().length) {\n            badges.add('private', Badge.component({\n                type: 'private',\n                label: app.translator.trans('fof-byobu.forum.badges.is_private.tooltip'),\n                icon: 'fas fa-map'\n            }), 10);\n        }\n    });\n}\n","import {extend} from 'flarum/extend';\nimport SettingsPage from 'flarum/components/SettingsPage';\nimport Switch from \"flarum/components/Switch\";\n\nexport default function () {\n    extend(SettingsPage.prototype, 'privacyItems', function (items) {\n        items.add('byobu-block-dm',\n            Switch.component({\n                children: app.translator.trans('fof-byobu.forum.user.settings.block_pd'),\n                state: this.user.preferences().blocksPd,\n                onchange: (value, component) => this.preferenceSaver('blocksPd')(value, component)\n            })\n        )\n    });\n}\n","import {extend} from 'flarum/extend';\nimport UserPage from 'flarum/components/UserPage';\nimport LinkButton from 'flarum/components/LinkButton';\n\nimport PrivateDiscussionsUserPage from \"./components/PrivateDiscussionsUserPage\";\n\nexport default function () {\n    if (!Number(app.data['fof-byobu.enable_byobu_user_page'])) return;\n\n    app.routes['user.byobu'] = {path: '/u/:username/byobu', component: PrivateDiscussionsUserPage.component()};\n    app.routes['user.pd'] = {path: '/u/:username/pd', component: PrivateDiscussionsUserPage.component()};\n\n    extend(UserPage.prototype, 'navItems', function (items) {\n        const href = app.route('user.byobu', {username: this.user.username()});\n\n        // Hide links from guests if they are not already on the page\n        if (!app.session.user && m.route() !== href) return;\n\n        items.add('byobu',\n            LinkButton.component({\n                href,\n                children: app.translator.trans('fof-byobu.forum.user.byobu_link'),\n                icon: 'fas fa-map'\n            }),\n            85\n        );\n    })\n}\n","import { extend } from 'flarum/extend';\nimport LinkButton from 'flarum/components/LinkButton';\nimport SessionDropdown from 'flarum/components/SessionDropdown'\n\nexport default () => {\n    extend(SessionDropdown.prototype, 'items', items => {\n        const user = app.session.user;\n\n        items.add('privateDiscussions',\n            LinkButton.component({\n                icon: 'fas fa-map',\n                children: app.translator.trans('fof-byobu.forum.user.dropdown_label'),\n                href: app.route('user.pd', { username: user.username() }),\n            }),\n            99\n        );\n    })\n};","import { extend, override } from \"flarum/extend\";\nimport PrivateDiscussionComposer from \"./components/PrivateDiscussionComposer\";\nimport AddRecipientModal from \"./components/AddRecipientModal\";\nimport recipientCountLabel from \"../common/helpers/recipientCountLabel\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\nimport ItemList from \"flarum/utils/ItemList\";\n\nexport default function (app) {\n    // Add recipient-selection abilities to the discussion composer.\n    PrivateDiscussionComposer.prototype.recipients = new ItemList;\n    PrivateDiscussionComposer.prototype.recipientUsers = [];\n    PrivateDiscussionComposer.prototype.recipientGroups = [];\n\n    PrivateDiscussionComposer.prototype.addDefaultRecipients = function (username) {\n        const user = app.store.getBy('users', 'username', username);\n\n        this.recipients.add('users:' + app.session.user.id(), app.session.user);\n        if(user.id() !== app.session.user.id()) {\n            this.recipients.add('users:' + user.id(), user);\n        }\n    };\n\n    override(PrivateDiscussionComposer.prototype, 'init', function(original) {\n        original();\n        this.chooseRecipients();\n\n        const username = m.route.param('username');\n\n        if(typeof username !== 'undefined') {\n           this.addDefaultRecipients(username); \n        }\n    });\n\n\n    // Add a recipient selection modal when clicking the recipient tag label.\n    PrivateDiscussionComposer.prototype.chooseRecipients = function () {\n        const tagsClassName = '.RecipientsInput-selected > .RecipientLabel:first-child';\n        app.modal.show(\n            new AddRecipientModal({\n                selectedRecipients: this.recipients,\n                onsubmit: (recipients) => {\n                    this.recipients = recipients;\n\n                    // Focus on recipient autocomplete field.\n                    this.$('.RecipientsInput').focus();\n                }\n            })\n        )\n        $(tagsClassName).css('display', 'none');\n    };\n\n    // Add a tag-selection menu to the discussion composer's header, after the\n    // title.\n    extend(PrivateDiscussionComposer.prototype, 'headerItems', function (items) {\n        if (app.session.user && app.forum.attribute('canStartPrivateDiscussion')) {\n            const recipients = this.recipients.toArray();\n\n            items.add('recipients', (\n                <a className=\"PrivateDiscussionComposer-changeRecipients\"\n                    onclick={this.chooseRecipients.bind(this)}>\n                    {recipients.length\n                        ? recipientCountLabel(recipients.length - 1)\n                        : <span className=\"RecipientLabel none\">{app.translator.trans('fof-byobu.forum.buttons.add_recipients')}</span>}\n                </a>\n            ), 5);\n        }\n    });\n\n    override(PrivateDiscussionComposer.prototype, 'onsubmit', function (original) {\n        const recipients = this.recipients.toArray();\n        if (recipients.length < 2) {\n            app.modal.show(\n                new AddRecipientModal({\n                    selectedRecipients: this.recipients,\n                    onsubmit: (recipients) => {\n                        this.recipients = recipients;\n                        //todo: make this better?\n                        original();\n                    }\n                })\n            )\n        } else {\n            original();\n        }\n    });\n\n    // Add the selected tags as data to submit to the server.\n    extend(PrivateDiscussionComposer.prototype, 'data', function (data) {\n        const users = [];\n        const groups = [];\n        this.recipients.toArray().forEach(recipient => {\n\n            if (recipient instanceof User) {\n                users.push(recipient);\n            }\n\n            if (recipient instanceof Group) {\n                groups.push(recipient);\n            }\n        });\n\n        data.relationships = data.relationships || {};\n\n        if (users.length) {\n            data.relationships.recipientUsers = users;\n        }\n\n        if (groups.length) {\n            data.relationships.recipientGroups = groups;\n        }\n    });\n}\n","import {extend} from \"flarum/extend\";\nimport DiscussionListItem from \"flarum/components/DiscussionListItem\";\nimport DiscussionPage from \"flarum/components/DiscussionPage\";\nimport DiscussionHero from \"flarum/components/DiscussionHero\";\nimport DiscussionList from \"flarum/components/DiscussionList\";\nimport recipientsLabel from \"../common/helpers/recipientsLabel\";\n\nexport default function() {\n\n    const addToDiscussion = function(discussion, items, long) {\n        let recipients = [];\n\n        if (discussion.recipientUsers().length) {\n            recipients = recipients.concat(discussion.recipientUsers());\n        }\n\n        if (discussion.recipientGroups().length) {\n            recipients = recipients.concat(discussion.recipientGroups());\n        }\n\n        if (recipients && recipients.length) {\n            if (long) {\n                items.add('recipients', recipientsLabel(recipients), 10);\n            } else {\n                items.add('recipients', recipientsLabel(recipients, {link: true}), 4);\n            }\n        }\n    };\n\n    /**\n     * Adds User labels on the discussion index page.\n     */\n    extend(DiscussionListItem.prototype, 'infoItems', function(items) {\n        const discussion = this.props.discussion;\n\n        addToDiscussion(discussion, items, true);\n    });\n\n    /**\n     * Require recipients from the API whenever we're loading a Discussion page.\n     */\n    extend(DiscussionPage.prototype, 'params', function(params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n    extend(DiscussionList.prototype, 'requestParams', function(params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n\n\n    /**\n     * Adds User labels on the discussion Hero.\n     */\n    extend(DiscussionHero.prototype, 'items', function(items) {\n        const discussion = this.props.discussion;\n\n        addToDiscussion(discussion, items, false);\n    });\n}\n","import { extend } from 'flarum/extend';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\n\nimport AddRecipientModal from './components/AddRecipientModal';\n\nexport default function () {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(DiscussionControls, 'moderationControls', function (items, discussion) {\n        if (discussion.canEditRecipients()) {\n            items.add('recipients', Button.component({\n                children: app.translator.trans('fof-byobu.forum.buttons.edit_recipients'),\n                icon: 'far fa-map',\n                onclick: () => app.modal.show(new AddRecipientModal({ discussion }))\n            }));\n        }\n\n       if (discussion.recipientUsers().length) {\n            items.add('remove', Button.component({\n                children: app.translator.trans('fof-byobu.forum.buttons.remove_from_discussion'),\n                icon: 'fas fa-user-slash',\n                onclick: () => {\n                    if (discussion) {\n\n                        let recipients = new ItemList();\n                        discussion.recipientUsers().map(user => {\n                            if (app.session.user.id() !== user.id()) {\n                                recipients.add(\"users:\" + user.id(), user);\n                            }\n                        });\n\n                        let recipientGroups = [];\n                        let recipientUsers = [];\n\n                        recipients.toArray().forEach(recipient => {\n                            if (recipient instanceof User) {\n                                recipientUsers.push(recipient);\n                            }\n                            if (recipient instanceof Group) {\n                                recipientGroups.push(recipient);\n                            }\n                        });\n\n                        discussion.save({ relationships: { recipientUsers, recipientGroups } }).then(() => app.history.back());\n                    }\n                }\n            }));\n        }\n    });\n}\n","import Modal from \"flarum/components/Modal\";\nimport DiscussionPage from \"flarum/components/DiscussionPage\";\nimport Button from \"flarum/components/Button\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport RecipientSearch from \"./RecipientSearch\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\n\nexport default class AddRecipientModal extends Modal {\n    init() {\n        super.init();\n\n        this.selected = m.prop(new ItemList);\n\n        if (this.props.discussion) {\n            // Adds recipients of the currently viewed discussion.\n            this.assignInitialRecipients(this.props.discussion);\n        } else if (this.props.selectedRecipients.toArray().length > 0) {\n            // Adds previously selected recipients.\n            this.selected().merge(this.props.selectedRecipients);\n        } else {\n            // Adds the current user in case there are no selected recipients yet and this is a new discussion.\n            this.selected().add(\"users:\" + app.session.user.id(), app.session.user);\n        }\n\n        this.recipientSearch = RecipientSearch.component({\n            selected: this.selected,\n            discussion: this.props.discussion\n        });\n    }\n\n    isDismissible() {\n        return false;\n    }\n\n    assignInitialRecipients(discussion) {\n        discussion.recipientUsers().map(user => {\n            this.selected().add(\"users:\" + user.id(), user);\n        });\n        discussion.recipientGroups().map(group => {\n            this.selected().add(\"groups:\" + group.id(), group);\n        });\n    }\n\n    className() {\n        return 'AddRecipientModal';\n    }\n\n    title() {\n        return this.props.discussion\n            ? app.translator.trans('fof-byobu.forum.modal.titles.update_recipients', { title: <em>{this.props.discussion.title()}</em> })\n            : app.translator.trans('fof-byobu.forum.modal.titles.add_recipients');\n    }\n\n    content() {\n        const isDisabled = this.selected().toArray().length < 2;\n\n        return [\n            <div className=\"Modal-body\">\n                <div className=\"AddRecipientModal-form\">\n                    {this.recipientSearch}\n                    <div className=\"AddRecipientModal-form-submit App-primaryControl\">\n                        {Button.component({\n                            type: 'submit',\n                            className: 'Button Button--primary',\n                            disabled: isDisabled,\n                            icon: 'fas fa-check',\n                            children: app.translator.trans('fof-byobu.forum.buttons.submit')\n                        })}\n                        {Button.component({\n                            onclick: this.hide.bind(this),\n                            className: 'Button Button--primary Button--cancel',\n                            children: app.translator.trans('fof-byobu.forum.buttons.cancel')\n                        })}\n                    </div>\n                </div>\n            </div>\n        ];\n    }\n\n    select(e) {\n        // Ctrl + Enter submits the selection, just Enter completes the current entry\n        if (e.metaKey || e.ctrlKey || this.selected.indexOf(this.index) !== -1) {\n            if (this.selected().length) {\n                this.$('form').submit();\n            }\n        }\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        const discussion = this.props.discussion;\n        const recipients = this.selected();\n\n        let recipientGroups = [];\n        let recipientUsers = [];\n\n        recipients.toArray().forEach(recipient => {\n            if (recipient instanceof User) {\n                recipientUsers.push(recipient);\n            }\n            if (recipient instanceof Group) {\n                recipientGroups.push(recipient);\n            }\n        });\n\n        // Recipients are updated here for existing discussions here.\n        if (discussion) {\n            discussion.save({ relationships: { recipientUsers, recipientGroups } })\n                .then(() => {\n                    if (app.current instanceof DiscussionPage) {\n                        app.current.stream.update();\n                    }\n                    m.redraw();\n                });\n        }\n\n        // Use the onsubmit callback to trigger an update in the DiscussionComposer\n        if (this.props.onsubmit) this.props.onsubmit(recipients);\n\n        app.modal.close();\n        app.composer.show();\n        m.redraw.strategy('none');\n    }\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionNotification extends Notification {\n  icon() {\n    return 'fas fa-map';\n  }\n\n  href() {\n    const notification = this.props.notification;\n    const discussion = notification.subject();\n\n    return app.route.discussion(discussion);\n  }\n\n  content() {\n    const user = this.props.notification.fromUser();\n    return app.translator.trans('fof-byobu.forum.notifications.pd_added_text', {\n      username: user.data.attributes.username,\n    });\n  }\n}","\nimport DiscussionComposer from \"flarum/components/DiscussionComposer\";\n\nexport default class PrivateDiscussionComposer extends DiscussionComposer {\n\n}","import { extend } from 'flarum/extend';\nimport Page from 'flarum/components/Page';\nimport ItemList from 'flarum/utils/ItemList';\nimport listItems from 'flarum/helpers/listItems';\nimport icon from 'flarum/helpers/icon';\nimport PrivateDiscussionList from './PrivateDiscussionList';\nimport WelcomeHero from 'flarum/components/WelcomeHero';\nimport PrivateDiscussionComposer from './PrivateDiscussionComposer';\nimport LogInModal from 'flarum/components/LogInModal';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport Select from 'flarum/components/Select';\nimport Button from 'flarum/components/Button';\nimport LinkButton from 'flarum/components/LinkButton';\nimport SelectDropdown from 'flarum/components/SelectDropdown';\n\nexport default class PrivateDiscussionIndex extends Page\n{\n    init() {\n        super.init();\n\n        // If the user is returning from a discussion page, then take note of which\n        // discussion they have just visited. After the view is rendered, we will\n        // scroll down so that this discussion is in view.\n        if (app.previous instanceof DiscussionPage) {\n            this.lastDiscussion = app.previous.discussion;\n        }\n\n        // If the user is coming from the discussion list, then they have either\n        // just switched one of the parameters (filter, sort, search) or they\n        // probably want to refresh the results. We will clear the discussion list\n        // cache so that results are reloaded.\n        if (app.previous instanceof PrivateDiscussionIndex) {\n            app.cache.privateDiscussionList = null;\n        }\n\n        const params = this.params();\n\n        if (app.cache.privateDiscussionList) {\n            // Compare the requested parameters (sort, search query) to the ones that\n            // are currently present in the cached discussion list. If they differ, we\n            // will clear the cache and set up a new discussion list component with\n            // the new parameters.\n            Object.keys(params).some(key => {\n                if (app.cache.privateDiscussionList.props.params[key] !== params[key]) {\n                    app.cache.privateDiscussionList = null;\n                    return true;\n                }\n            });\n        }\n\n        if (!app.cache.privateDiscussionList) {\n            app.cache.privateDiscussionList = new PrivateDiscussionList({params});\n        }\n\n        app.history.push('private-index', icon('far fa-map'));\n\n        this.bodyClass = 'App--index';\n    }\n\n    onunload() {\n        // Save the scroll position so we can restore it when we return to the\n        // discussion list.\n        app.cache.scrollTop = $(window).scrollTop();\n    }\n\n    view() {\n        return (\n            <div className=\"IndexPage\">\n                {this.hero()}\n                <div className=\"container\">\n                    <nav className=\"IndexPage-nav sideNav\">\n                        <ul>{listItems(this.sidebarItems().toArray())}</ul>\n                    </nav>\n                    <div className=\"IndexPage-results sideNavOffset\">\n                        <div className=\"IndexPage-toolbar\">\n                            <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\n                            <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n                        </div>\n                        {app.cache.discussionList.render()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    config(isInitialized, context) {\n        super.config(...arguments);\n\n        if (isInitialized) return;\n\n        extend(context, 'onunload', () => $('#app').css('min-height', ''));\n\n        app.setTitle('');\n        app.setTitleCount(0);\n\n        // Work out the difference between the height of this hero and that of the\n        // previous hero. Maintain the same scroll position relative to the bottom\n        // of the hero so that the sidebar doesn't jump around.\n        const oldHeroHeight = app.cache.heroHeight;\n        const heroHeight = app.cache.heroHeight = this.$('.Hero').outerHeight();\n        const scrollTop = app.cache.scrollTop;\n\n        $('#app').css('min-height', $(window).height() + heroHeight);\n\n        // Scroll to the remembered position. We do this after a short delay so that\n        // it happens after the browser has done its own \"back button\" scrolling,\n        // which isn't right. https://github.com/flarum/core/issues/835\n        const scroll = () => $(window).scrollTop(scrollTop - oldHeroHeight + heroHeight);\n        scroll();\n        setTimeout(scroll, 1);\n\n        // If we've just returned from a discussion page, then the constructor will\n        // have set the `lastDiscussion` property. If this is the case, we want to\n        // scroll down to that discussion so that it's in view.\n        if (this.lastDiscussion) {\n            const $discussion = this.$(`.DiscussionListItem[data-id=\"${this.lastDiscussion.id()}\"]`);\n\n            if ($discussion.length) {\n                const indexTop = $('#header').outerHeight();\n                const indexBottom = $(window).height();\n                const discussionTop = $discussion.offset().top;\n                const discussionBottom = discussionTop + $discussion.outerHeight();\n\n                if (discussionTop < scrollTop + indexTop || discussionBottom > scrollTop + indexBottom) {\n                    $(window).scrollTop(discussionTop - indexTop);\n                }\n            }\n        }\n    }\n\n    /**\n     * Get the component to display as the hero.\n     *\n     * @return {MithrilComponent}\n     */\n    hero() {\n        return WelcomeHero.component();\n    }\n\n    /**\n     * Build an item list for the sidebar of the index page. By default this is a\n     * \"New Discussion\" button, and then a DropdownSelect component containing a\n     * list of navigation items.\n     *\n     * @return {ItemList}\n     */\n    sidebarItems() {\n        const items = new ItemList();\n        const canStartDiscussion = app.forum.attribute('canStartDiscussion') || !app.session.user;\n\n        items.add('newDiscussion',\n            Button.component({\n                children: app.translator.trans(canStartDiscussion ? 'core.forum.index.start_discussion_button' : 'core.forum.index.cannot_start_discussion_button'),\n                icon: 'fas fa-edit',\n                className: 'Button Button--primary IndexPage-newDiscussion',\n                itemClassName: 'App-primaryControl',\n                onclick: this.newDiscussion.bind(this),\n                disabled: !canStartDiscussion\n            })\n        );\n\n        items.add('nav',\n            SelectDropdown.component({\n                children: this.navItems(this).toArray(),\n                buttonClassName: 'Button',\n                className: 'App-titleControl'\n            })\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the navigation in the sidebar of the index page. By\n     * default this is just the 'All Discussions' link.\n     *\n     * @return {ItemList}\n     */\n    navItems() {\n        const items = new ItemList();\n        const params = this.stickyParams();\n\n        items.add('allDiscussions',\n            LinkButton.component({\n                href: app.route('index', params),\n                children: app.translator.trans('core.forum.index.all_discussions_link'),\n                icon: 'far fa-comments'\n            }),\n            100\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the part of the toolbar which is concerned with how\n     * the results are displayed. By default this is just a select box to change\n     * the way discussions are sorted.\n     *\n     * @return {ItemList}\n     */\n    viewItems() {\n        const items = new ItemList();\n        const sortMap = app.cache.discussionList.sortMap();\n\n        const sortOptions = {};\n        for (const i in sortMap) {\n            sortOptions[i] = app.translator.trans('core.forum.index_sort.' + i + '_button');\n        }\n\n        items.add('sort',\n            Select.component({\n                options: sortOptions,\n                value: this.params().sort || Object.keys(sortMap)[0],\n                onchange: this.changeSort.bind(this)\n            })\n        );\n\n        return items;\n    }\n\n    /**\n     * Build an item list for the part of the toolbar which is about taking action\n     * on the results. By default this is just a \"mark all as read\" button.\n     *\n     * @return {ItemList}\n     */\n    actionItems() {\n        const items = new ItemList();\n\n        items.add('refresh',\n            Button.component({\n                title: app.translator.trans('core.forum.index.refresh_tooltip'),\n                icon: 'fas fa-refresh',\n                className: 'Button Button--icon',\n                onclick: () => app.cache.discussionList.refresh()\n            })\n        );\n\n        if (app.session.user) {\n            items.add('markAllAsRead',\n                Button.component({\n                    title: app.translator.trans('core.forum.index.mark_all_as_read_tooltip'),\n                    icon: 'fas fa-check',\n                    className: 'Button Button--icon',\n                    onclick: this.markAllAsRead.bind(this)\n                })\n            );\n        }\n\n        return items;\n    }\n\n    /**\n     * Return the current search query, if any. This is implemented to activate\n     * the search box in the header.\n     *\n     * @see Search\n     * @return {String}\n     */\n    searching() {\n        return this.params().q;\n    }\n\n    /**\n     * Redirect to the index page without a search filter. This is called when the\n     * 'x' is clicked in the search box in the header.\n     *\n     * @see Search\n     */\n    clearSearch() {\n        const params = this.params();\n        delete params.q;\n\n        m.route(app.route(this.props.routeName, params));\n    }\n\n    /**\n     * Redirect to the index page using the given sort parameter.\n     *\n     * @param {String} sort\n     */\n    changeSort(sort) {\n        const params = this.params();\n\n        if (sort === Object.keys(app.cache.discussionList.sortMap())[0]) {\n            delete params.sort;\n        } else {\n            params.sort = sort;\n        }\n\n        m.route(app.route(this.props.routeName, params));\n    }\n\n    /**\n     * Get URL parameters that stick between filter changes.\n     *\n     * @return {Object}\n     */\n    stickyParams() {\n        return {\n            sort: m.route.param('sort'),\n            q: m.route.param('q')\n        };\n    }\n\n    /**\n     * Get parameters to pass to the DiscussionList component.\n     *\n     * @return {Object}\n     */\n    params() {\n        const params = this.stickyParams();\n\n        params.filter = m.route.param('filter');\n\n        return params;\n    }\n\n    /**\n     * Log the user in and then open the composer for a new discussion.\n     *\n     * @return {Promise}\n     */\n    newDiscussion() {\n        const deferred = m.deferred();\n\n        if (app.session.user) {\n            this.composeNewDiscussion(deferred);\n        } else {\n            app.modal.show(\n                new LogInModal({\n                    onlogin: this.composeNewDiscussion.bind(this, deferred)\n                })\n            );\n        }\n\n        return deferred.promise;\n    }\n\n    /**\n     * Initialize the composer for a new discussion.\n     *\n     * @param {Deferred} deferred\n     * @return {Promise}\n     */\n    composeNewDiscussion(deferred) {\n        const component = new PrivateDiscussionComposer({user: app.session.user});\n\n        app.composer.load(component);\n        app.composer.show();\n\n        deferred.resolve(component);\n\n        return deferred.promise;\n    }\n\n    /**\n     * Mark all discussions as read.\n     *\n     * @return void\n     */\n    markAllAsRead() {\n        const confirmation = confirm(app.translator.trans('core.forum.index.mark_all_as_read_confirmation'));\n\n        if (confirmation) {\n            app.session.user.save({readTime: new Date()});\n        }\n    }\n}\n","import DiscussionList from 'flarum/components/DiscussionList';\n\nexport default class PrivateDiscussionList extends DiscussionList\n{\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionNotification extends Notification {\n  icon() {\n    return 'fas fa-map';\n  }\n\n  href() {\n    const notification = this.props.notification;\n    const discussion = notification.subject();\n\n    return app.route.discussion(discussion);\n  }\n\n  content() {\n    const user = this.props.notification.fromUser();\n    return app.translator.trans('fof-byobu.forum.notifications.pd_text', {\n      username: user.data.attributes.username,\n    });\n  }\n}","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionReplyNotification extends Notification {\n  icon() {\n    return 'fas fa-reply';\n  }\n\n  href() {\n    const notification = this.props.notification;\n    const discussion = notification.subject();\n    const content = notification.content() || {};\n\n    return app.route.discussion(discussion, content.postNumber);\n  }\n\n  content() {\n    const user = this.props.notification.fromUser();\n    return app.translator.trans('fof-byobu.forum.notifications.pd_reply_text', {\n      username: user.data.attributes.username,\n    });\n  }\n}","import UserPage from 'flarum/components/UserPage';\nimport PrivateDiscussionList from './PrivateDiscussionList';\nimport Button from 'flarum/components/Button';\nimport LogInModal from 'flarum/components/LogInModal';\nimport PrivateDiscussionComposer from './PrivateDiscussionComposer';\n\nexport default class PrivateDiscussionsUserPage extends UserPage {\n    init() {\n        super.init();\n\n        this.loadUser(m.route.param('username'));\n    }\n\n    show(user) {\n        // We can not create the list in init because the user will not be available if it has to be loaded asynchronously\n        this.list = new PrivateDiscussionList({\n            params: {\n                q: `byobu:${user.username()} is:private`,\n                sort: 'latest'\n            }\n        });\n\n        this.list.refresh();\n\n        // We call the parent method after creating the list, this way the this.list property\n        // is set before content() is called for the first time\n        super.show(user);\n    }\n\n    newDiscussionAction(e)\n     {\n        e.preventDefault();\n\n        const deferred = m.deferred();\n\n        if (app.session.user) {\n\n            const component = new PrivateDiscussionComposer({ user: app.session.user });\n\n            app.composer.load(component);\n\n            deferred.resolve(component);\n        } else {\n            deferred.reject();\n\n            app.modal.show(new LogInModal());\n        }\n\n        return deferred.promise;\n    }\n\n    content() {\n        const canStartDiscussion = app.forum.attribute('canStartDiscussion') || !app.session.user;\n\n        return (\n            <div className=\"DiscussionsUserPage\">\n                {Button.component({\n                    children: app.translator.trans(canStartDiscussion ? 'fof-byobu.forum.nav.start_button' : 'core.forum.index.cannot_start_discussion_button'),\n                    // icon: 'fas fa-edit',\n                    className: 'Button Button--primary IndexPage-newDiscussion',\n                    itemClassName: 'App-primaryControl',\n                    onclick: this.newDiscussionAction.bind(this),\n                    disabled: !canStartDiscussion,\n                    style: {marginBottom: '24px'}\n                })}\n                {this.list.render()}\n            </div>\n        );\n    }\n}\n","import Search from \"flarum/components/Search\";\nimport UserSearchSource from \"./sources/UserSearchSource\";\nimport GroupSearchSource from \"./sources/GroupSearchSource\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport classList from \"flarum/utils/classList\";\nimport extractText from \"flarum/utils/extractText\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport recipientLabel from \"../../common/helpers/recipientLabel\";\nimport User from \"flarum/models/User\";\nimport Group from \"flarum/models/Group\";\n\nexport default class RecipientSearch extends Search {\n\n    config(isInitialized) {\n        if (isInitialized) return;\n\n        const $search = this;\n\n        this.$('.Search-results').on('click', (e) => {\n            const target = this.$('.SearchResult.active')\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        this.$('.Search-results').on('touchstart', (e) => {\n            const target = this.$(e.target.parentNode);\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        $('.RecipientsInput').on('keyup', () => {\n            clearTimeout(this.typingTimer);\n            this.doSearch = false;\n            this.typingTimer = setTimeout(() => {\n                this.doSearch = true;\n                m.redraw();\n            }, 900);\n        }).on('keydown', () => {\n            clearTimeout(this.typingTimer);\n        });\n\n        super.config(isInitialized);\n    }\n\n    view() {\n        if (typeof this.value() === 'undefined') {\n            this.value('');\n        }\n\n        const loading = this.value() && this.value().length >= 3;\n\n        if (!this.sources) {\n            this.sources = this.sourceItems().toArray();\n        }\n\n        return m('div', {\n            className: 'AddRecipientModal-form-input'\n        }, [\n            m('div', {\n                className: 'RecipientsInput-selected RecipientsLabel'\n            }, this.props.selected().toArray().map(recipient =>\n                recipientLabel(recipient, {\n                    onclick: () => {\n                        this.removeRecipient(recipient);\n                    }\n                })\n            )),\n            m('input', {\n                className: 'RecipientsInput FormControl ' + classList({\n                    open: !!this.value(),\n                    focused: !!this.value(),\n                    active: !!this.value(),\n                    loading: !!this.loadingSources\n                }),\n                config: function (element) {\n                    element.focus();\n                },\n                type: 'search',\n                placeholder: extractText(app.translator.trans('fof-byobu.forum.input.search_recipients')),\n                value: this.value(),\n                oninput: m.withAttr('value', this.value),\n                onfocus: () => this.hasFocus = true,\n                onblur: () => this.hasFocus = false\n            }),\n            m('ul', {\n                className: 'Dropdown-menu Search-results fade ' + classList({\n                    in: !!loading\n                })\n            }, !this.doSearch\n                ? LoadingIndicator.component({size: 'tiny', className: 'Button Button--icon Button--link'})\n                : this.sources.map(source => source.view(this.value()))\n            )\n        ]);\n    }\n\n    /**\n     * Build an item list of SearchSources.\n     *\n     * @return {ItemList}\n     */\n    sourceItems() {\n        const items = new ItemList();\n\n        // Add user source based on permissions.\n        if (\n            (!this.props.discussion && app.forum.attribute('canStartPrivateDiscussionWithUsers')) ||\n            (this.props.discussion && this.props.discussion.canEditUserRecipients())\n        ) {\n            items.add('users', new UserSearchSource());\n        }\n\n        // Add group source based on permissions.\n        if (\n            (!this.props.discussion && app.forum.attribute('canStartPrivateDiscussionWithGroups')) ||\n            (this.props.discussion && this.props.discussion.canEditGroupRecipients())\n        ) {\n            items.add('groups', new GroupSearchSource());\n        }\n\n        return items;\n    }\n\n\n    /**\n     * Clear the search input and the current controller's active search.\n     */\n    clear() {\n        this.value('');\n\n        m.redraw();\n    }\n\n    /**\n     * Adds a recipient.\n     *\n     * @param value\n     */\n    addRecipient(value) {\n\n        let values = value.split(':'),\n            type = values[0],\n            id = values[1];\n\n        let recipient = this.findRecipient(type, id);\n\n        this.props.selected().add(value, recipient);\n\n        this.clear();\n    }\n\n    /**\n     * Removes a recipient.\n     *\n     * @param recipient\n     */\n    removeRecipient(recipient) {\n        let type;\n\n        if (recipient instanceof User) {\n            type = 'users';\n        }\n        if (recipient instanceof Group) {\n            type = 'groups';\n        }\n\n        this.props.selected().remove(type + \":\" + recipient.id());\n\n        m.redraw();\n    }\n\n    /**\n     * Loads a recipient from the global store.\n     *\n     * @param store\n     * @param id\n     * @returns {Model}\n     */\n    findRecipient(store, id) {\n        return app.store.getById(store, id);\n    }\n}\n","import EventPost from \"flarum/components/EventPost\";\nimport recipientsLabel from \"../../common/helpers/recipientsLabel\";\n\nexport default class RecipientsModified extends EventPost {\n    static initProps(props) {\n        super.initProps(props);\n\n        function diff(diff1, diff2, store) {\n            return diff1\n                .filter(item => diff2.indexOf(item) === -1)\n                .map(id => app.store.getById(store, id));\n        }\n\n        const content = props.post.content();\n\n        // For event posts existing before groups functionality.\n        if (!content['new'] && content.length == 2) {\n            const oldRecipients = props.post.content()[0];\n            const newRecipients = props.post.content()[1];\n            props.added = diff(newRecipients, oldRecipients, 'users');\n            props.removed = diff(oldRecipients, newRecipients, 'users');\n        } else {\n            var usersAdded = diff(content['new']['users'], content['old']['users'], 'users');\n            var usersRemoved = diff(content['old']['users'], content['new']['users'], 'users');\n            var groupsAdded = diff(content['new']['groups'], content['old']['groups'], 'groups');\n            var groupsRemoved = diff(content['old']['groups'], content['new']['groups'], 'groups');\n\n            props.added = usersAdded.concat(groupsAdded);\n            props.removed = usersRemoved.concat(groupsRemoved);\n        }\n    }\n\n    icon() {\n        return 'far fa-map';\n    }\n\n    descriptionKey() {\n\n        var localeBase = 'fof-byobu.forum.post.recipients_modified.';\n\n        if (this.props.added.length) {\n            if (this.props.removed.length) {\n                return localeBase + 'added_and_removed';\n            }\n\n            return localeBase + 'added';\n        }\n\n        return localeBase + 'removed';\n    }\n\n    descriptionData() {\n        const data = {};\n\n        if (this.props.added.length) {\n            data.added = recipientsLabel(this.props.added, {link: true});\n        }\n\n        if (this.props.removed.length) {\n            data.removed = recipientsLabel(this.props.removed, {link: true});\n        }\n\n        return data;\n    }\n}\n","import highlight from 'flarum/helpers/highlight';\n\nexport default class GroupSearchSource {\n    search(query) {\n        return app.store.find('groups', {\n            filter: {q: query},\n            page: {limit: 5}\n        });\n    }\n\n    view(query) {\n        query = query.toLowerCase();\n\n        const results = app.store.all('groups')\n            .filter(group => group.namePlural().toLowerCase().substr(0, query.length) === query);\n\n        if (!results.length) return '';\n\n        return [\n            <li className=\"Dropdown-header\">{app.translator.trans('fof-byobu.forum.search.headings.groups')}</li>,\n            results.map(group => {\n                const groupName = group.namePlural();\n                var name = highlight(groupName, query);\n\n                return (\n                    <li className=\"SearchResult\" data-index={'groups:' + group.id()}>\n                        <a data-index={'groups:' + group.id()}>\n                            <span class=\"groupName\">{name}</span>\n                        </a>\n                    </li>\n                );\n            })\n        ];\n    }\n}\n","import highlight from 'flarum/helpers/highlight';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\n\nexport default class UserSearchSource {\n    view(query) {\n        if (query.length < 3 || this.loading) return;\n\n        if (!app.cache.byobuResults) {\n            app.cache.byobuResults = [];\n        }\n\n        this.query = query;\n\n        if (!app.cache.byobuResults[this.query]) {\n\n            this.loading = true;\n\n            app.cache.byobuResults[this.query] = [];\n            app.store.find('users', {\n                filter: {q: this.query + ' allows-pd'},\n                page: {limit: 5}\n            }).then(this.pushResults.bind(this));\n        } else\n\n            return [\n                <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n                app.cache.byobuResults[this.query].map(user => {\n                    const name = username(user);\n                    name.children[0] = highlight(name.children[0], this.query);\n\n                    return (\n                        <li className='SearchResult' data-index={'users:' + user.id()}>\n                            <a data-index={'users:' + user.id()}>\n                                {avatar(user)}\n                                {name}\n                            </a>\n                        </li>\n                    );\n                })\n            ];\n    }\n\n    pushResults(results) {\n        results.payload.data.map(result => {\n            var user = app.store.getById('users', result.id);\n            app.cache.byobuResults[this.query].push(user);\n        });\n        this.loading = false;\n        m.redraw();\n    }\n}\n","import { extend } from 'flarum/extend';\nimport Model from \"flarum/Model\";\nimport Discussion from \"flarum/models/Discussion\";\nimport User from \"flarum/models/User\";\nimport addRecipientComposer from \"./addRecipientComposer\";\nimport addRecipientLabels from \"./addRecipientLabels\";\nimport addRecipientsControl from \"./addRecipientsControl\";\nimport addHasRecipientsBadge from \"./addHasRecipientsBadge\";\nimport addDiscussPrivatelyControl from './addDiscussPrivatelyControl';\nimport addPrivacySetting from './addPrivacySetting';\nimport addPrivateDiscussionsPage from \"./addPrivateDiscussionsPage\";\nimport NotificationGrid from 'flarum/components/NotificationGrid';\nimport PrivateDiscussionNotification from './components/PrivateDiscussionNotification';\nimport PrivateDiscussionAddedNotification from './components/PrivateDiscussionAddedNotification';\nimport PrivateDiscussionRepliedNotification from './components/PrivateDiscussionReplyNotification';\nimport addPrivateMessageSessionDropdownLinkButton from './addPrivateMessageSessionDropdownLinkButton';\nimport removeTagComposer from './removeTagComposer';\nimport PrivateDiscussionIndex from \"./components/PrivateDiscussionIndex\";\nimport RecipientsModified from \"./components/RecipientsModified\";\n\napp.initializers.add('fof-byobu', function (app) {\n    app.routes.private_discussions = { path: '/private-discussions', component: PrivateDiscussionIndex.component() };\n\n    Discussion.prototype.recipientUsers = Model.hasMany('recipientUsers');\n    Discussion.prototype.oldRecipientUsers = Model.hasMany('oldRecipientUsers');\n    Discussion.prototype.recipientGroups = Model.hasMany('recipientGroups');\n    Discussion.prototype.oldRecipientGroups = Model.hasMany('oldRecipientGroups');\n\n    Discussion.prototype.canEditRecipients = Model.attribute('canEditRecipients');\n    Discussion.prototype.canEditUserRecipients = Model.attribute('canEditUserRecipients');\n    Discussion.prototype.canEditGroupRecipients = Model.attribute('canEditGroupRecipients');\n    Discussion.prototype.canEditGroupRecipients = Model.attribute('canEditGroupRecipients');\n\n    User.prototype.blocksPd = Model.attribute('blocksPd');\n    User.prototype.cannotBeDirectMessaged = Model.attribute('cannotBeDirectMessaged');\n\n    app.postComponents.recipientsModified = RecipientsModified;\n\n    addRecipientComposer(app);\n    addRecipientLabels();\n    addRecipientsControl();\n    addHasRecipientsBadge();\n    addPrivacySetting();\n    addPrivateMessageSessionDropdownLinkButton();\n\n    addDiscussPrivatelyControl();\n\n    addPrivateDiscussionsPage();\n\n    app.notificationComponents.byobuPrivateDiscussionCreated = PrivateDiscussionNotification;\n    app.notificationComponents.byobuPrivateDiscussionReplied = PrivateDiscussionRepliedNotification;\n    app.notificationComponents.byobuPrivateDiscussionAdded = PrivateDiscussionAddedNotification;\n\n    // Add notification preferences.\n    extend(NotificationGrid.prototype, 'notificationTypes', function (items) {\n        items.add('byobuPrivateDiscussionCreated', {\n            name: 'byobuPrivateDiscussionCreated',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_label')\n        });\n        items.add('byobuPrivateDiscussionReplied', {\n            name: 'byobuPrivateDiscussionReplied',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_reply_label')\n        });\n        items.add('byobuPrivateDiscussionAdded', {\n            name: 'byobuPrivateDiscussionAdded',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_added_label')\n        });\n    });\n\n    removeTagComposer();\n});\n","import { extend, override } from \"flarum/extend\";\nimport PrivateDiscussionComposer from \"./components/PrivateDiscussionComposer\";\n\nexport default function () {\n    PrivateDiscussionComposer.prototype.tags = [];\n\n    extend(PrivateDiscussionComposer.prototype, 'headerItems', function (items) {\n        items.remove('tags');\n    });\n\n    override(PrivateDiscussionComposer.prototype, 'onsubmit', function (original) {\n        const tag = app.store.getBy('tags', 'slug', 'general-discussion');\n\n        this.tags = [tag];\n\n        original();\n    });\n\n    extend(PrivateDiscussionComposer.prototype, 'data', function (data) {\n        data.relationships = data.relationships || {};\n        data.relationships.tags = this.tags;\n    });\n}\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Badge'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/DiscussionHero'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['components/EventPost'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Notification'];","module.exports = flarum.core.compat['components/NotificationGrid'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Search'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['components/SelectDropdown'];","module.exports = flarum.core.compat['components/SessionDropdown'];","module.exports = flarum.core.compat['components/SettingsPage'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['components/WelcomeHero'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/highlight'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/Group'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['utils/classList'];","module.exports = flarum.core.compat['utils/extract'];","module.exports = flarum.core.compat['utils/extractText'];"],"sourceRoot":""}