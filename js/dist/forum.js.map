{"version":3,"sources":["webpack://@fof/byobu/webpack/bootstrap","webpack://@fof/byobu/./forum.js","webpack://@fof/byobu/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@fof/byobu/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/byobu/./src/common/helpers/index.js","webpack://@fof/byobu/./src/common/helpers/recipientCountLabel.js","webpack://@fof/byobu/./src/common/helpers/recipientLabel.js","webpack://@fof/byobu/./src/common/helpers/recipientsLabel.js","webpack://@fof/byobu/./src/forum/addDiscussPrivatelyControl.js","webpack://@fof/byobu/./src/forum/addHasRecipientsBadge.js","webpack://@fof/byobu/./src/forum/addPrivacySetting.js","webpack://@fof/byobu/./src/forum/addPrivateDiscussionsPage.js","webpack://@fof/byobu/./src/forum/addPrivateDiscussionsToSessionDropdown.js","webpack://@fof/byobu/./src/forum/addRecipientLabels.js","webpack://@fof/byobu/./src/forum/addRecipientsControl.js","webpack://@fof/byobu/./src/forum/components/AddRecipientModal.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionComposer.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionList.js","webpack://@fof/byobu/./src/forum/components/PrivateDiscussionsUserPage.js","webpack://@fof/byobu/./src/forum/components/RecipientLeft.js","webpack://@fof/byobu/./src/forum/components/RecipientSearch.js","webpack://@fof/byobu/./src/forum/components/RecipientsModified.js","webpack://@fof/byobu/./src/forum/components/index.js","webpack://@fof/byobu/./src/forum/components/notifications/PrivateDiscussionAddedNotification.js","webpack://@fof/byobu/./src/forum/components/notifications/PrivateDiscussionMadePublicNotification.js","webpack://@fof/byobu/./src/forum/components/notifications/PrivateDiscussionNotification.js","webpack://@fof/byobu/./src/forum/components/notifications/PrivateDiscussionReplyNotification.js","webpack://@fof/byobu/./src/forum/components/notifications/PrivateDiscussionUserLeftNotification.js","webpack://@fof/byobu/./src/forum/components/sources/GroupSearchSource.js","webpack://@fof/byobu/./src/forum/components/sources/UserSearchSource.js","webpack://@fof/byobu/./src/forum/index.js","webpack://@fof/byobu/./src/forum/states/PrivateDiscussionListState.js","webpack://@fof/byobu/external \"flarum.core.compat['Model']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Badge']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Button']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionComposer']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionHero']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionList']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionListItem']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Dropdown']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/EventPost']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/IndexPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LinkButton']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/LogInModal']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Modal']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Notification']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/NotificationGrid']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Search']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/SessionDropdown']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/SettingsPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/Switch']\"","webpack://@fof/byobu/external \"flarum.core.compat['components/UserPage']\"","webpack://@fof/byobu/external \"flarum.core.compat['extend']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/avatar']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/highlight']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/listItems']\"","webpack://@fof/byobu/external \"flarum.core.compat['helpers/username']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/Discussion']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/Group']\"","webpack://@fof/byobu/external \"flarum.core.compat['models/User']\"","webpack://@fof/byobu/external \"flarum.core.compat['states/DiscussionListState']\"","webpack://@fof/byobu/external \"flarum.core.compat['states/SearchState']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/ItemList']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/Stream']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/UserControls']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/classList']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/extract']\"","webpack://@fof/byobu/external \"flarum.core.compat['utils/extractText']\""],"names":["helpers","recipientCountLabel","recipientLabel","recipientsLabel","count","attrs","style","className","label","app","translator","transChoice","m","recipient","href","extract","User","username","title","route","user","Group","namePlural","trans","LinkButton","component","recipients","children","link","forEach","push","extend","UserControls","items","session","id","forum","attribute","blocksPd","cannotBeDirectMessaged","add","Button","icon","onclick","e","preventDefault","Promise","resolve","ItemList","PrivateDiscussionComposer","prototype","composer","load","recipientUsers","titlePlaceholder","submitLabel","show","addHasRecipientsBadge","Discussion","badges","length","recipientGroups","Badge","type","SettingsPage","Switch","state","preferences","onchange","value","blocksPdLoading","savePreferences","then","redraw","loading","routes","path","PrivateDiscussionsUserPage","UserPage","get","SessionDropdown","IndexPage","addToDiscussion","discussion","long","concat","DiscussionListItem","DiscussionPage","params","include","DiscussionListState","DiscussionHero","document","getElementsByClassName","classes","Object","keys","item","privateDiscussion","filter","i","tagsClassName","recipientsClassName","$","prev","css","DiscussionControls","canEditRecipients","modal","AddRecipientModal","canMakePublic","confirm","save","relationships","map","toArray","history","back","oninit","vnode","selected","Stream","console","log","assignInitialRecipients","selectedRecipients","merge","recipientSearch","SearchState","isDismissible","group","helpText","content","isDisabled","RecipientSearch","disabled","hide","bind","select","metaKey","ctrlKey","indexOf","index","submit","onsubmit","current","stream","update","close","Modal","param","addDefaultRecipients","oncreate","chooseRecipients","data","users","groups","focus","headerItems","remove","store","getBy","createRecord","cache","discussionList","refresh","set","loaded","DiscussionComposer","PrivateDiscussionList","DiscussionList","changeSort","list","PrivateDiscussionListState","q","sort","handleChangeSort","loadUser","newDiscussionAction","reject","LogInModal","listItems","actionItems","viewItems","canStartDiscussion","itemClassName","sortMap","sortOptions","Dropdown","buttonClassName","key","active","RecipientLeft","initAttrs","descriptionKey","EventPost","$search","on","target","addRecipient","parentNode","clearTimeout","typingTimer","doSearch","setTimeout","view","getValue","setValue","sources","sourceItems","removeRecipient","classList","open","focused","loadingSources","dom","placeholder","extractText","oninput","onfocus","hasFocus","onblur","LoadingIndicator","size","source","canEditUserRecipients","UserSearchSource","canEditGroupRecipients","GroupSearchSource","values","split","findRecipient","clear","getById","Search","RecipientsModified","diff","diff1","diff2","post","oldRecipients","newRecipients","added","removed","usersAdded","usersRemoved","groupsAdded","groupsRemoved","localeBase","descriptionData","components","PrivateDiscussionAddedNotification","PrivateDiscussionNotification","PrivateDiscussionReplyNotification","PrivateDiscussionUserPage","PrivateDiscussionUserLeftNotification","notification","subject","fromUser","Notification","PrivateDiscussionMadePublicNotification","postNumber","search","query","find","page","limit","toLowerCase","results","all","substr","groupName","name","highlight","byobuResults","pushResults","text","avatar","undefined","payload","result","initializers","Model","hasMany","oldRecipientUsers","oldRecipientGroups","postComponents","recipientsModified","recipientLeft","addRecipientLabels","addRecipientsControl","addPrivacySetting","addDiscussPrivatelyControl","addPrivateDiscussionsPage","addPrivateDiscussionSessionDropdown","notificationComponents","byobuPrivateDiscussionCreated","byobuPrivateDiscussionReplied","PrivateDiscussionRepliedNotification","byobuRecipientRemoved","byobuPrivateDiscussionAdded","byobuMadePublic","NotificationGrid","PrivateDiscussionLisState"],"mappings":"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C,WAAK,EAAEC,GAAG,CAACC,UAAJ,CAAea,KAAf,CAAqB,8CAArB;AAH8B,KAAzC;AAKAU,SAAK,CAACO,GAAN,CAAU,uBAAV,EAAmC;AAC/BwO,UAAI,EAAE,uBADyB;AAE/BtO,UAAI,EAAE,YAFyB;AAG/BlC,WAAK,EAAEC,GAAG,CAACC,UAAJ,CAAea,KAAf,CAAqB,kDAArB;AAHwB,KAAnC;AAKAU,SAAK,CAACO,GAAN,CAAU,iBAAV,EAA6B;AACzBwO,UAAI,EAAE,iBADmB;AAEzBtO,UAAI,EAAE,YAFmB;AAGzBlC,WAAK,EAAEC,GAAG,CAACC,UAAJ,CAAea,KAAf,CAAqB,oDAArB;AAHkB,KAA7B;AAKH,GA1BK,CAAN;AA2BH,CAhED,E;;;;;;;;;;;;;;;;;;ACvBA;;IAEqBwR,yB;;;;;;;;EAAkCrN,wE;;;;;;;;;;;;;ACFvD,6C;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,6D;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,6D;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,yD","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/common';\nexport * from './src/forum';","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import recipientCountLabel from './recipientCountLabel';\nimport recipientLabel from './recipientLabel';\nimport recipientsLabel from './recipientsLabel';\n\nexport const helpers = {\n    recipientCountLabel: recipientCountLabel,\n    recipientLabel: recipientLabel,\n    recipientsLabel: recipientsLabel,\n};\n","export default function recipientCountLabel(count, attrs = {}) {\n    attrs.style = attrs.style || {};\n    attrs.className = 'RecipientLabel ' + (attrs.className || '');\n\n    var label = app.translator.transChoice('fof-byobu.forum.labels.recipients', count, { count });\n\n    return m('span', attrs, <span className=\"RecipientLabel-text\">{label}</span>);\n}\n","import extract from 'flarum/utils/extract';\nimport username from 'flarum/helpers/username';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\nimport LinkButton from 'flarum/components/LinkButton';\n\nexport default function recipientLabel(recipient, attrs = {}) {\n    attrs.style = attrs.style || {};\n    attrs.className = 'RecipientLabel ' + (attrs.className || '');\n    attrs.href = extract(attrs, 'link');\n\n    let label;\n\n    if (recipient instanceof User) {\n        label = username(recipient);\n\n        if (attrs.href) {\n            attrs.title = recipient.username() || '';\n            attrs.href = app.route.user(recipient);\n        }\n    } else if (recipient instanceof Group) {\n        label = recipient.namePlural();\n    } else {\n        attrs.className += ' none';\n        label = app.translator.trans('fof-byobu.forum.labels.user_deleted');\n    }\n\n    return LinkButton.component(attrs, label);\n}\n","import extract from 'flarum/utils/extract';\nimport recipientLabel from './recipientLabel';\n\nexport default function recipientsLabel(recipients, attrs = {}) {\n    const children = [];\n    const link = extract(attrs, 'link');\n\n    attrs.className = 'RecipientsLabel ' + (attrs.className || '');\n\n    if (recipients) {\n        recipients.forEach((recipient) => {\n            children.push(recipientLabel(recipient, { link }));\n        });\n    } else {\n        children.push(recipientLabel());\n    }\n\n    return <span {...attrs}>{children}</span>;\n}\n","import { extend } from 'flarum/extend';\nimport UserControls from 'flarum/utils/UserControls';\nimport PrivateDiscussionComposer from './components/PrivateDiscussionComposer';\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default function () {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(UserControls, 'userControls', function (items, user) {\n        if (\n            app.session.user &&\n            app.session.user.id() !== user.id() &&\n            app.forum.attribute('canStartPrivateDiscussion') &&\n            (user.blocksPd() === false || (app.forum.attribute('canStartPrivateDiscussionWithBlockers') && user.cannotBeDirectMessaged()))\n        ) {\n            items.add(\n                'private-discussion',\n                Button.component({\n                    icon: 'far fa-map',\n                    onclick: (e) => {\n                        e.preventDefault();\n\n                        return new Promise((resolve) => {\n                            let recipients = new ItemList();\n                            recipients.add('users:' + app.session.user.id(), app.session.user);\n                            recipients.add('users:' + user.id(), user);\n\n                            PrivateDiscussionComposer.prototype.recipients = recipients;\n\n                            app.composer.load(PrivateDiscussionComposer, {\n                                user: app.session.user,\n                                recipients: recipients,\n                                recipientUsers: recipients,\n                                titlePlaceholder: app.translator.trans('fof-byobu.forum.composer_private_discussion.title_placeholder'),\n                                submitLabel: app.translator.trans('fof-byobu.forum.composer_private_discussion.submit_button'),\n                            });\n                            app.composer.show();\n\n                            return resolve(app.composer);\n                        })\n                    },\n                }, app.translator.trans('fof-byobu.forum.buttons.send_pd', { username: user.username() }))\n            );\n        }\n\n        return items;\n    });\n}\n","import { extend } from 'flarum/extend';\nimport Discussion from 'flarum/models/Discussion';\nimport Badge from 'flarum/components/Badge';\n\nexport default function addHasRecipientsBadge() {\n    extend(Discussion.prototype, 'badges', function (badges) {\n        if (this.recipientUsers().length || this.recipientGroups().length) {\n            badges.add(\n                'private',\n                Badge.component({\n                    type: 'private',\n                    label: app.translator.trans('fof-byobu.forum.badges.is_private.tooltip'),\n                    icon: 'fas fa-map',\n                }),\n                10\n            );\n        }\n    });\n}\n","import { extend } from 'flarum/extend';\nimport SettingsPage from 'flarum/components/SettingsPage';\nimport Switch from 'flarum/components/Switch';\n\nexport default function () {\n    extend(SettingsPage.prototype, 'privacyItems', function (items) {\n        items.add(\n            'byobu-block-dm',\n            Switch.component({\n                state: this.user.preferences().blocksPd,\n                onchange: (value) => {\n                    this.blocksPdLoading = true;\n\n                    this.user.savePreferences({ blocksPd: value }).then(() => {\n                        this.blocksPdLoading = false;\n                        m.redraw();\n                    });\n                },\n                loading: this.blocksPdLoading\n            }, app.translator.trans('fof-byobu.forum.user.settings.block_pd'))\n        );\n    });\n}\n","import { extend } from 'flarum/extend';\nimport UserPage from 'flarum/components/UserPage';\nimport LinkButton from 'flarum/components/LinkButton';\nimport PrivateDiscussionsUserPage from './components/PrivateDiscussionsUserPage';\n\nexport default function () {\n    app.routes['user.byobu'] = { path: '/u/:username/byobu', component: PrivateDiscussionsUserPage };\n\n    extend(UserPage.prototype, 'navItems', function (items) {\n        const href = app.route('user.byobu', { username: this.user.username() });\n\n        // Hide links from guests if they are not already on the page\n        if (!app.session.user && m.route.get() !== href) return;\n\n        items.add(\n            'byobu',\n            LinkButton.component({\n                href,\n                icon: 'fas fa-map',\n            }, app.translator.trans('fof-byobu.forum.user.byobu_link')),\n            85\n        );\n    });\n}\n","import { extend } from 'flarum/extend';\nimport LinkButton from 'flarum/components/LinkButton';\nimport SessionDropdown from 'flarum/components/SessionDropdown';\nimport IndexPage from 'flarum/components/IndexPage';\n\nexport default () => {\n    extend(SessionDropdown.prototype, 'items', (items) => {\n        const user = app.session.user;\n\n        items.add(\n            'privateDiscussions',\n            LinkButton.component({\n                icon: 'fas fa-map',\n                href: app.route('user.byobu', { username: user.username() }),\n            }, app.translator.trans('fof-byobu.forum.user.dropdown_label')),\n            99\n        );\n    });\n\n    extend(IndexPage.prototype, 'navItems', (items) => {\n        const user = app.session.user;\n\n        if (app.forum.attribute('byobuOnIndex') && user) {\n            items.add(\n                'privateDiscussions',\n                LinkButton.component({\n                    icon: 'fas fa-map',\n                    href: app.route('user.byobu', { username: user.username() }),\n                }, app.translator.trans('fof-byobu.forum.user.dropdown_label')),\n                75\n            );\n        }\n    });\n};\n","import { extend } from 'flarum/extend';\nimport DiscussionListItem from 'flarum/components/DiscussionListItem';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport DiscussionHero from 'flarum/components/DiscussionHero';\nimport DiscussionListState from 'flarum/states/DiscussionListState';\nimport recipientsLabel from '../common/helpers/recipientsLabel';\n\nexport default function () {\n    const addToDiscussion = function (discussion, items, long) {\n        let recipients = [];\n\n        if (discussion.recipientUsers().length) {\n            recipients = recipients.concat(discussion.recipientUsers());\n        }\n\n        if (discussion.recipientGroups().length) {\n            recipients = recipients.concat(discussion.recipientGroups());\n        }\n\n        if (recipients && recipients.length) {\n            if (long) {\n                items.add('recipients', recipientsLabel(recipients), 10);\n            } else {\n                items.add('recipients', recipientsLabel(recipients, { link: true }), 4);\n            }\n        }\n    };\n\n    /**\n     * Adds User labels on the discussion index page.\n     */\n    extend(DiscussionListItem.prototype, 'infoItems', function (items) {\n        const discussion = this.attrs.discussion;\n\n        addToDiscussion(discussion, items, true);\n    });\n\n    /**\n     * Require recipients from the API whenever we're loading a Discussion page.\n     */\n    extend(DiscussionPage.prototype, 'params', function (params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        params.include.push('recipientUsers');\n        params.include.push('recipientGroups');\n    });\n\n    /**\n     * Adds User labels on the discussion Hero.\n     */\n    extend(DiscussionHero.prototype, 'items', function (items) {\n        const discussion = this.attrs.discussion;\n\n        addToDiscussion(discussion, items, false);\n    });\n\n    /**\n     * Adds 'hasPrivateMessages' to the class, if we're looking at a private discussion.\n     */\n    extend(DiscussionHero.prototype, 'oncreate', function () {\n        if (!app.forum.attribute('byobuTag')) return;\n\n        const { discussion } = this.attrs;\n\n        if (discussion.recipientUsers().length || discussion.recipientGroups().length) {\n            const items = document.getElementsByClassName('DiscussionHero-items');\n            const { children } = items[0];\n            const recipients = 'item-recipients';\n\n            const classes = [];\n            Object.keys(children).forEach((item) => {\n                classes.push(children[item].className);\n            });\n\n            const privateDiscussion = classes.filter((i) => i === recipients);\n\n            if (privateDiscussion.length) {\n                items[0].className = `${items[0].className} isPrivateDiscussion`;\n            }\n        }\n    });\n\n    /**\n     * Remove tag from private discussions in discussion list\n     */\n    extend(DiscussionListItem.prototype, 'oncreate', () => {\n        if (!app.forum.attribute('byobuTag')) return;\n\n        const tagsClassName = '.item-tags';\n        const recipientsClassName = '.DiscussionListItem-info > .item-recipients';\n\n        $(recipientsClassName).prev(tagsClassName).css('display', 'none');\n    });\n}\n","import { extend } from 'flarum/extend';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport ItemList from 'flarum/utils/ItemList';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\nimport Button from 'flarum/components/Button';\n\nimport AddRecipientModal from './components/AddRecipientModal';\n\nexport default function () {\n    // Add a control allowing the discussion to be moved to another category.\n    extend(DiscussionControls, 'moderationControls', function (items, discussion) {\n        if (discussion.canEditRecipients()) {\n            items.add(\n                'recipients',\n                Button.component({\n                    icon: 'far fa-map',\n                    onclick: () => app.modal.show(AddRecipientModal, { discussion }),\n                }, app.translator.trans('fof-byobu.forum.buttons.edit_recipients'))\n            );\n        }\n\n        if (discussion.recipientUsers().length > 0 && discussion.canMakePublic()) {\n            items.add(\n                'make_public',\n                Button.component({\n                    icon: 'far fa-eye',\n                    onclick: () => {\n                        if (discussion && confirm(app.translator.trans('fof-byobu.forum.confirm.make_public'))) {\n                            let recipientGroups = [];\n                            let recipientUsers = [];\n\n                            discussion.save({ relationships: { recipientUsers, recipientGroups } }).then(() => m.redraw());\n                        }\n                    },\n                }, app.translator.trans('fof-byobu.forum.buttons.make_public'))\n            );\n        }\n\n        if (discussion.recipientUsers().length > 1) {\n            items.add(\n                'remove',\n                Button.component({\n                    icon: 'fas fa-user-slash',\n                    onclick: () => {\n                        if (discussion) {\n                            let recipients = new ItemList();\n                            discussion.recipientUsers().map((user) => {\n                                if (app.session.user.id() !== user.id()) {\n                                    recipients.add('users:' + user.id(), user);\n                                }\n                            });\n\n                            let recipientGroups = [];\n                            let recipientUsers = [];\n\n                            recipients.toArray().forEach((recipient) => {\n                                if (recipient instanceof User) {\n                                    recipientUsers.push(recipient);\n                                }\n                                if (recipient instanceof Group) {\n                                    recipientGroups.push(recipient);\n                                }\n                            });\n\n                            discussion.save({ relationships: { recipientUsers, recipientGroups } }).then(() => app.history.back());\n                        }\n                    },\n                }, app.translator.trans('fof-byobu.forum.buttons.remove_from_discussion'))\n            );\n        }\n    });\n}\n","import Modal from 'flarum/components/Modal';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\nimport Stream from 'flarum/utils/Stream';\nimport SearchState from 'flarum/states/SearchState';\nimport RecipientSearch from './RecipientSearch';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\n\nexport default class AddRecipientModal extends Modal {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.selected = Stream(new ItemList());\nconsole.log(this.attrs)\n        if (this.attrs.discussion) {\n            // Adds recipients of the currently viewed discussion.\n            this.assignInitialRecipients(this.attrs.discussion);\n        } else if (this.attrs.selectedRecipients && this.attrs.selectedRecipients.toArray().length > 0) {\n            // Adds previously selected recipients.\n            this.selected().merge(this.attrs.selectedRecipients);\n        } else {\n            // Adds the current user in case there are no selected recipients yet and this is a new discussion.\n            this.selected().add('users:' + app.session.user.id(), app.session.user);\n        }\n\n        this.recipientSearch = new SearchState;\n    }\n\n    isDismissible() {\n        return false;\n    }\n\n    assignInitialRecipients(discussion) {\n        discussion.recipientUsers().map((user) => {\n            this.selected().add('users:' + user.id(), user);\n        });\n        discussion.recipientGroups().map((group) => {\n            this.selected().add('groups:' + group.id(), group);\n        });\n    }\n\n    className() {\n        return 'AddRecipientModal';\n    }\n\n    title() {\n        return this.attrs.discussion\n            ? app.translator.trans('fof-byobu.forum.modal.titles.update_recipients', { title: <em>{this.attrs.discussion.title()}</em> })\n            : app.translator.trans('fof-byobu.forum.modal.titles.add_recipients');\n    }\n\n    helpText() {\n        return this.attrs.discussion\n            ? app.translator.trans('fof-byobu.forum.modal.help.update_recipients')\n            : app.translator.trans('fof-byobu.forum.modal.help.add_recipients');\n    }\n\n    content() {\n        const isDisabled = this.selected().toArray().length < 2;\n\n        return [\n            <div className=\"Modal-body\">\n                <div class=\"AddRecipientModal-help\">{this.helpText()}</div>\n                <div className=\"AddRecipientModal-form\">\n                    {RecipientSearch.component({\n                        state: this.recipientSearch,\n                        selected: this.selected,\n                        discussion: this.attrs.discussion,\n                    })}\n                    <div className=\"AddRecipientModal-form-submit App-primaryControl\">\n                        {Button.component({\n                            type: 'submit',\n                            className: 'Button Button--primary',\n                            disabled: isDisabled,\n                            icon: 'fas fa-check',\n                        }, app.translator.trans('fof-byobu.forum.buttons.submit'))}\n                        {Button.component({\n                            onclick: this.hide.bind(this),\n                            className: 'Button Button--cancel',\n                        }, app.translator.trans('fof-byobu.forum.buttons.cancel'))}\n                    </div>\n                </div>\n            </div>,\n        ];\n    }\n\n    select(e) {\n        // Ctrl + Enter submits the selection, just Enter completes the current entry\n        if (e.metaKey || e.ctrlKey || this.selected.indexOf(this.index) !== -1) {\n            if (this.selected().length) {\n                this.$('form').submit();\n            }\n        }\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        const discussion = this.attrs.discussion;\n        const recipients = this.selected();\n\n        let recipientGroups = [];\n        let recipientUsers = [];\n\n        recipients.toArray().forEach((recipient) => {\n            if (recipient instanceof User) {\n                recipientUsers.push(recipient);\n            }\n            if (recipient instanceof Group) {\n                recipientGroups.push(recipient);\n            }\n        });\n\n        // Recipients are updated here for existing discussions here.\n        if (discussion) {\n            discussion.save({ relationships: { recipientUsers, recipientGroups } }).then(() => {\n                if (app.current instanceof DiscussionPage) {\n                    app.current.stream.update();\n                }\n                m.redraw();\n            });\n        }\n\n        // Use the onsubmit callback to trigger an update in the DiscussionComposer\n        if (this.attrs.onsubmit) this.attrs.onsubmit(recipients);\n\n        app.modal.close();\n\n        if (! this.attrs.discussion) {\n            app.composer.show();\n        }\n\n        e.redraw = false;\n    }\n}\n","import DiscussionComposer from 'flarum/components/DiscussionComposer';\nimport AddRecipientModal from './AddRecipientModal';\nimport ItemList from 'flarum/utils/ItemList';\nimport recipientCountLabel from \"../../common/helpers/recipientCountLabel\";\n\nexport default class PrivateDiscussionComposer extends DiscussionComposer {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.recipients = this.attrs.recipients || new ItemList();\n\n        this.recipientUsers = this.attrs.recipientUsers || [];\n        this.recipientGroups = this.attrs.recipientGroups || [];\n\n        const username = m.route.param('username');\n\n        if (typeof username !== 'undefined') {\n            this.addDefaultRecipients(username);\n        }\n    }\n\n    oncreate(vnode) {\n        super.oncreate(vnode);\n\n        if (this.recipients.length < 0) {\n            this.chooseRecipients();\n        }\n    }\n\n    data() {\n        let data = super.data();\n\n        const users = [];\n        const groups = [];\n        this.recipients.forEach((recipient) => {\n            if (recipient instanceof User) {\n                users.push(recipient);\n            }\n\n            if (recipient instanceof Group) {\n                groups.push(recipient);\n            }\n        });\n\n        data.relationships = data.relationships || {};\n\n        if (users.length) {\n            data.relationships.recipientUsers = users;\n        }\n\n        if (groups.length) {\n            data.relationships.recipientGroups = groups;\n        }\n\n        return data;\n    }\n\n    chooseRecipients() {\n        app.modal.show(AddRecipientModal, {\n            selectedRecipients: this.recipients,\n            onsubmit: (recipients) => {\n                this.recipients = recipients;\n\n                // Focus on recipient autocomplete field.\n                this.$('.RecipientsInput').focus();\n            },\n        });\n    }\n\n    headerItems() {\n        let items = super.headerItems();\n\n        items.remove('tags');\n\n        if (app.session.user && app.forum.attribute('canStartPrivateDiscussion')) {\n            const recipients = this.recipients;\n\n            items.add(\n                'recipients',\n                <a className=\"PrivateDiscussionComposer-changeRecipients\" onclick={this.chooseRecipients.bind(this)}>\n                    {recipients.length ? (\n                        recipientCountLabel(recipients.length)\n                    ) : (\n                        <span className=\"RecipientLabel none\">{app.translator.trans('fof-byobu.forum.buttons.add_recipients')}</span>\n                    )}\n                </a>,\n                5\n            );\n        }\n\n        return items;\n    }\n\n    addDefaultRecipients(username) {\n        const user = app.store.getBy('users', 'username', username);\n\n        this.recipients.add('users:' + app.session.user.id(), app.session.user);\n\n        if (user.id() !== app.session.user.id()) {\n            this.recipients.add('users:' + user.id(), user);\n        }\n    };\n\n    onsubmit() {\n        this.loading = true;\n\n        const recipients = this.recipients.toArray();\n\n        if (recipients.length < 2) {\n            app.modal.show(AddRecipientModal, { selectedRecipients: recipients });\n\n            this.loading = false;\n        } else {\n            const data = this.data();\n\n            app.store\n                .createRecord('discussions')\n                .save(data)\n                .then((discussion) => {\n                    if (app.cache.discussionList) {\n                        app.cache.discussionList.refresh();\n                    }\n                    m.route.set(app.route.discussion(discussion));\n\n                    app.composer.hide();\n                }, this.loaded.bind(this));\n        }\n    }\n}\n","import DiscussionList from 'flarum/components/DiscussionList';\n\nexport default class PrivateDiscussionList extends DiscussionList {}\n","import UserPage from 'flarum/components/UserPage';\nimport PrivateDiscussionListState from '../states/PrivateDiscussionListState';\nimport Button from 'flarum/components/Button';\nimport Dropdown from 'flarum/components/Dropdown';\nimport ItemList from 'flarum/utils/ItemList';\nimport listItems from 'flarum/helpers/listItems';\nimport PrivateDiscussionComposer from './PrivateDiscussionComposer';\nimport LogInModal from 'flarum/components/LogInModal';\nimport PrivateDiscussionList from './PrivateDiscussionList';\n\nexport default class PrivateDiscussionsUserPage extends UserPage {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.changeSort('latest');\n    }\n\n    show(user) {\n        // We can not create the list in init because the user will not be available if it has to be loaded asynchronously\n        this.list = new PrivateDiscussionListState({\n                q: `byobu:${user.username()} is:private`,\n                sort: this.sort,\n            });\n\n        this.list.refresh();\n\n        // We call the parent method after creating the list, this way the this.list property\n        // is set before content() is called for the first time\n        super.show(user);\n    }\n\n    handleChangeSort(sort, e) {\n        e.preventDefault();\n\n        this.changeSort(sort);\n    }\n\n    changeSort(sort) {\n        this.sort = sort;\n        this.loadUser(m.route.param('username'));\n    }\n\n    newDiscussionAction(e) {\n        e.preventDefault();\n\n        return new Promise((resolve, reject) => {\n            if (app.session.user) {\n                let recipients = new ItemList();\n                recipients.add('users:' + app.session.user.id(), app.session.user);\n\n                if (this.user !== null && app.session.user.id() !== this.user.id()) {\n                    recipients.add('users:' + this.user.id(), this.user);\n                }\n\n                app.composer.load(PrivateDiscussionComposer, {\n                    user: app.session.user,\n                    recipients: recipients,\n                    recipientUsers: recipients,\n                    titlePlaceholder: app.translator.trans('fof-byobu.forum.composer_private_discussion.title_placeholder'),\n                    submitLabel: app.translator.trans('fof-byobu.forum.composer_private_discussion.submit_button'),\n                });\n\n                return resolve(app.composer);\n            } else {\n                app.modal.show(LogInModal);\n\n                return reject();\n            }\n        });\n    }\n\n    content() {\n        return (\n            <div className=\"DiscussionsUserPage\">\n                <div className=\"DiscussionsUserPage-toolbar\">\n                    <ul className=\"DiscussionsUserPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n                    <ul className=\"DiscussionsUserPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\n                </div>\n                <PrivateDiscussionList state={this.list}></PrivateDiscussionList>\n            </div>\n        );\n    }\n\n    actionItems() {\n        const items = new ItemList();\n        const canStartDiscussion = app.forum.attribute('canStartDiscussion') || !app.session.user;\n\n        if (app.session.user && app.forum.attribute('canStartPrivateDiscussion')) {\n            items.add(\n                'start_private',\n                Button.component({\n                    icon: 'fas fa-pen',\n                    className: 'Button Button--primary IndexPage-newDiscussion',\n                    itemClassName: 'fof-byobu_primaryControl',\n                    onclick: this.newDiscussionAction.bind(this),\n                    disabled: !canStartDiscussion,\n                }, app.translator.trans(\n                    canStartDiscussion ? 'fof-byobu.forum.nav.start_button' : 'core.forum.index.cannot_start_discussion_button'\n                ))\n            );\n        }\n\n        return items;\n    }\n\n    viewItems() {\n        const items = new ItemList();\n        const sortMap = this.list.sortMap();\n\n        const sortOptions = {};\n        for (const i in sortMap) {\n            sortOptions[i] = app.translator.trans('core.forum.index_sort.' + i + '_button');\n        }\n\n        items.add(\n            'sort',\n            Dropdown.component({\n                buttonClassName: 'Button',\n                label: sortOptions[this.sort] || Object.keys(sortMap).map((key) => sortOptions[key])[0],\n            }, Object.keys(sortOptions).map((value) => {\n                const label = sortOptions[value];\n                const active = (this.sort || Object.keys(sortMap)[0]) === value;\n\n                return Button.component({\n                    icon: active ? 'fas fa-check' : true,\n                    onclick: this.handleChangeSort.bind(this, value),\n                    active: active,\n                }, label);\n            }))\n        );\n\n        return items;\n    }\n}\n","import EventPost from 'flarum/components/EventPost';\n\nexport default class RecipientLeft extends EventPost {\n    static initAttrs(attrs) {\n        super.initAttrs(attrs);\n    }\n\n    icon() {\n        return 'far fa-map';\n    }\n\n    descriptionKey() {\n        return 'fof-byobu.forum.post.recipients_modified.removed_self';\n    }\n}\n","import Search from 'flarum/components/Search';\nimport UserSearchSource from './sources/UserSearchSource';\nimport GroupSearchSource from './sources/GroupSearchSource';\nimport ItemList from 'flarum/utils/ItemList';\nimport classList from 'flarum/utils/classList';\nimport extractText from 'flarum/utils/extractText';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport recipientLabel from '../../common/helpers/recipientLabel';\nimport User from 'flarum/models/User';\nimport Group from 'flarum/models/Group';\n\nexport default class RecipientSearch extends Search {\n    oncreate(vnode) {\n        super.oncreate(vnode);\n\n        const $search = this;\n\n        this.$('.Search-results').on('click', (e) => {\n            const target = this.$('.SearchResult.active');\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        this.$('.Search-results').on('touchstart', (e) => {\n            const target = this.$(e.target.parentNode);\n\n            $search.addRecipient(target.data('index'));\n            $search.$('.RecipientsInput').focus();\n        });\n\n        $('.RecipientsInput')\n            .on('keyup', () => {\n                clearTimeout(this.typingTimer);\n                this.doSearch = false;\n                this.typingTimer = setTimeout(() => {\n                    this.doSearch = true;\n                    m.redraw();\n                }, 900);\n            })\n            .on('keydown', () => {\n                clearTimeout(this.typingTimer);\n            });\n\n\n        super.oncreate(vnode);\n    }\n\n    view() {\n        if (typeof this.state.getValue() === 'undefined') {\n            this.state.setValue('');\n        }\n\n        const loading = this.state.getValue() && this.state.getValue().length >= 3;\n\n        if (!this.sources) {\n            this.sources = this.sourceItems().toArray();\n        }\n\n        return m(\n            'div',\n            {\n                className: 'AddRecipientModal-form-input',\n            },\n            [\n                m(\n                    'div',\n                    {\n                        className: 'RecipientsInput-selected RecipientsLabel',\n                    },\n                    this.attrs\n                        .selected()\n                        .toArray()\n                        .map((recipient) =>\n                            recipientLabel(recipient, {\n                                onclick: () => {\n                                    this.removeRecipient(recipient);\n                                },\n                            })\n                        )\n                ),\n                m('input', {\n                    className:\n                        'RecipientsInput FormControl ' +\n                        classList({\n                            open: !!this.state.getValue(),\n                            focused: !!this.state.getValue(),\n                            active: !!this.state.getValue(),\n                            loading: !!this.loadingSources,\n                        }),\n                    oncreate: function (vnode) {\n                        vnode.dom.focus();\n                    },\n                    type: 'search',\n                    placeholder: extractText(app.translator.trans('fof-byobu.forum.input.search_recipients')),\n                    value: this.state.getValue(),\n                    oninput: e => this.state.setValue(e.target.value),\n                    onfocus: () => (this.hasFocus = true),\n                    onblur: () => (this.hasFocus = false),\n                }),\n                m(\n                    'ul',\n                    {\n                        className:\n                            'Dropdown-menu Search-results fade ' +\n                            classList({\n                                in: !!loading,\n                            }),\n                    },\n                    !this.doSearch\n                        ? LoadingIndicator.component({ size: 'tiny', className: 'Button Button--icon Button--link' })\n                        : this.sources.map((source) => source.view(this.state.getValue()))\n                ),\n            ]\n        );\n    }\n\n    /**\n     * Build an item list of SearchSources.\n     *\n     * @return {ItemList}\n     */\n    sourceItems() {\n        const items = new ItemList();\n\n        // Add user source based on permissions.\n        if (\n            (!this.attrs.discussion && app.forum.attribute('canStartPrivateDiscussionWithUsers')) ||\n            (this.attrs.discussion && this.attrs.discussion.canEditUserRecipients())\n        ) {\n            items.add('users', new UserSearchSource());\n        }\n\n        // Add group source based on permissions.\n        if (\n            (!this.attrs.discussion && app.forum.attribute('canStartPrivateDiscussionWithGroups')) ||\n            (this.attrs.discussion && this.attrs.discussion.canEditGroupRecipients())\n        ) {\n            items.add('groups', new GroupSearchSource());\n        }\n\n        return items;\n    }\n\n    /**\n     * Adds a recipient.\n     *\n     * @param value\n     */\n    addRecipient(value) {\n        let values = value.split(':'),\n            type = values[0],\n            id = values[1];\n\n        let recipient = this.findRecipient(type, id);\n\n        this.attrs.selected().add(value, recipient);\n\n        this.state.clear();\n    }\n\n    /**\n     * Removes a recipient.\n     *\n     * @param recipient\n     */\n    removeRecipient(recipient) {\n        let type;\n\n        if (recipient instanceof User) {\n            type = 'users';\n        }\n        if (recipient instanceof Group) {\n            type = 'groups';\n        }\n\n        this.attrs.selected().remove(type + ':' + recipient.id());\n\n        m.redraw();\n    }\n\n    /**\n     * Loads a recipient from the global store.\n     *\n     * @param store\n     * @param id\n     * @returns {Model}\n     */\n    findRecipient(store, id) {\n        return app.store.getById(store, id);\n    }\n}\n","import EventPost from 'flarum/components/EventPost';\nimport recipientsLabel from '../../common/helpers/recipientsLabel';\n\nexport default class RecipientsModified extends EventPost {\n    static initAttrs(attrs) {\n        super.initAttrs(attrs);\n\n        function diff(diff1, diff2, store) {\n            return diff1.filter((item) => diff2.indexOf(item) === -1).map((id) => app.store.getById(store, id));\n        }\n\n        const content = attrs.post.content();\n\n        // For event posts existing before groups functionality.\n        if (!content['new'] && content.length == 2) {\n            const oldRecipients = attrs.post.content()[0];\n            const newRecipients = attrs.post.content()[1];\n            attrs.added = diff(newRecipients, oldRecipients, 'users');\n            attrs.removed = diff(oldRecipients, newRecipients, 'users');\n        } else {\n            var usersAdded = diff(content['new']['users'], content['old']['users'], 'users');\n            var usersRemoved = diff(content['old']['users'], content['new']['users'], 'users');\n            var groupsAdded = diff(content['new']['groups'], content['old']['groups'], 'groups');\n            var groupsRemoved = diff(content['old']['groups'], content['new']['groups'], 'groups');\n\n            attrs.added = usersAdded.concat(groupsAdded);\n            attrs.removed = usersRemoved.concat(groupsRemoved);\n        }\n    }\n\n    icon() {\n        return 'far fa-map';\n    }\n\n    descriptionKey() {\n        var localeBase = 'fof-byobu.forum.post.recipients_modified.';\n\n        if (this.attrs.added.length) {\n            if (this.attrs.removed.length) {\n                return localeBase + 'added_and_removed';\n            }\n\n            return localeBase + 'added';\n        }\n\n        return localeBase + 'removed';\n    }\n\n    descriptionData() {\n        const data = {};\n\n        if (this.attrs.added.length) {\n            data.added = recipientsLabel(this.attrs.added, { link: true });\n        }\n\n        if (this.attrs.removed.length) {\n            data.removed = recipientsLabel(this.attrs.removed, { link: true });\n        }\n\n        return data;\n    }\n}\n","import PrivateDiscussionComposer from './PrivateDiscussionComposer';\nimport AddRecipientModal from './AddRecipientModal';\nimport PrivateDiscussionAddedNotification from './notifications/PrivateDiscussionAddedNotification';\nimport PrivateDiscussionList from './PrivateDiscussionList';\nimport PrivateDiscussionNotification from './notifications/PrivateDiscussionNotification';\nimport PrivateDiscussionReplyNotification from './notifications/PrivateDiscussionReplyNotification';\nimport PrivateDiscussionsUserPage from './PrivateDiscussionsUserPage';\nimport PrivateDiscussionUserLeftNotification from './notifications/PrivateDiscussionUserLeftNotification';\nimport RecipientLeft from './RecipientLeft';\nimport RecipientSearch from './RecipientSearch';\nimport RecipientsModified from './RecipientsModified';\nimport GroupSearchSource from './sources/GroupSearchSource';\nimport UserSearchSource from './sources/GroupSearchSource';\n\nexport const components = {\n    AddRecipientModal: AddRecipientModal,\n    PrivateDiscussionAddedNotification: PrivateDiscussionAddedNotification,\n    PrivateDiscussionComposer: PrivateDiscussionComposer,\n    PrivateDiscussionList: PrivateDiscussionList,\n    PrivateDiscussionNotification: PrivateDiscussionNotification,\n    PrivateDiscussionReplyNotification: PrivateDiscussionReplyNotification,\n    PrivateDiscussionUserPage: PrivateDiscussionsUserPage,\n    PrivateDiscussionUserLeftNotification: PrivateDiscussionUserLeftNotification,\n    RecipientLeft: RecipientLeft,\n    RecipientSearch: RecipientSearch,\n    RecipientsModified: RecipientsModified,\n    sources: {\n        GroupSearchSource: GroupSearchSource,\n        UserSearchSource: UserSearchSource,\n    },\n};\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionAddedNotification extends Notification {\n    icon() {\n        return 'fas fa-map';\n    }\n\n    href() {\n        const notification = this.attrs.notification;\n        const discussion = notification.subject();\n\n        return app.route.discussion(discussion);\n    }\n\n    content() {\n        const user = this.attrs.notification.fromUser();\n        return app.translator.trans('fof-byobu.forum.notifications.pd_added_text', {\n            user: user,\n        });\n    }\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionMadePublicNotification extends Notification {\n    icon() {\n        return 'fas fa-map';\n    }\n\n    href() {\n        const notification = this.attrs.notification;\n        const discussion = notification.subject();\n\n        return app.route.discussion(discussion);\n    }\n\n    content() {\n        const user = this.attrs.notification.fromUser();\n        return app.translator.trans('fof-byobu.forum.notifications.pd_made_public_text', {\n            user: user,\n        });\n    }\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionNotification extends Notification {\n    icon() {\n        return 'fas fa-map';\n    }\n\n    href() {\n        const notification = this.attrs.notification;\n        const discussion = notification.subject();\n\n        return app.route.discussion(discussion);\n    }\n\n    content() {\n        const user = this.attrs.notification.fromUser();\n        return app.translator.trans('fof-byobu.forum.notifications.pd_text', {\n            user: user,\n        });\n    }\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionReplyNotification extends Notification {\n    icon() {\n        return 'fas fa-reply';\n    }\n\n    href() {\n        const notification = this.attrs.notification;\n        const discussion = notification.subject();\n        const content = notification.content() || {};\n\n        return app.route.discussion(discussion, content.postNumber);\n    }\n\n    content() {\n        const user = this.attrs.notification.fromUser();\n        return app.translator.trans('fof-byobu.forum.notifications.pd_reply_text', {\n            user: user,\n        });\n    }\n}\n","import Notification from 'flarum/components/Notification';\n\nexport default class PrivateDiscussionUserLeftNotification extends Notification {\n    icon() {\n        return 'fas fa-map';\n    }\n\n    href() {\n        const notification = this.attrs.notification;\n        const discussion = notification.subject();\n\n        return app.route.discussion(discussion);\n    }\n\n    content() {\n        const user = this.attrs.notification.fromUser();\n        return app.translator.trans('fof-byobu.forum.notifications.pd_user_left_text', {\n            user: user,\n        });\n    }\n}\n","import highlight from 'flarum/helpers/highlight';\n\nexport default class GroupSearchSource {\n    search(query) {\n        return app.store.find('groups', {\n            filter: { q: query },\n            page: { limit: 5 },\n        });\n    }\n\n    view(query) {\n        query = query.toLowerCase();\n\n        const results = app.store.all('groups').filter((group) => group.namePlural().toLowerCase().substr(0, query.length) === query);\n\n        if (!results.length) return '';\n\n        return [\n            <li className=\"Dropdown-header\">{app.translator.trans('fof-byobu.forum.search.headings.groups')}</li>,\n            results.map((group) => {\n                const groupName = group.namePlural();\n                var name = highlight(groupName, query);\n\n                return (\n                    <li className=\"SearchResult\" data-index={'groups:' + group.id()}>\n                        <a data-index={'groups:' + group.id()}>\n                            <span class=\"groupName\">{name}</span>\n                        </a>\n                    </li>\n                );\n            }),\n        ];\n    }\n}\n","import highlight from 'flarum/helpers/highlight';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\n\nexport default class UserSearchSource {\n    view(query) {\n        if (query.length < 3 || this.loading) return;\n\n        if (!app.cache.byobuResults) {\n            app.cache.byobuResults = [];\n        }\n\n        this.query = query;\n\n        if (!app.cache.byobuResults[this.query]) {\n            this.loading = true;\n\n            app.cache.byobuResults[this.query] = [];\n            app.store\n                .find('users', {\n                    filter: { q: this.query + ' allows-pd' },\n                    page: { limit: 5 },\n                })\n                .then(this.pushResults.bind(this));\n        } else\n            return [\n                <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n                app.cache.byobuResults[this.query].map((user) => {\n                    const name = username(user);\n                    const children = [highlight(name.text, this.query)];\n\n                    return (\n                        <li className=\"SearchResult\" data-index={'users:' + user.id()}>\n                            <a data-index={'users:' + user.id()}>\n                                {avatar(user)}\n                                {{...name, text: undefined, children}}\n                            </a>\n                        </li>\n                    );\n                }),\n            ];\n    }\n\n    pushResults(results) {\n        results.payload.data.map((result) => {\n            var user = app.store.getById('users', result.id);\n            app.cache.byobuResults[this.query].push(user);\n        });\n        this.loading = false;\n        m.redraw();\n    }\n}\n","import { extend } from 'flarum/extend';\nimport Model from 'flarum/Model';\nimport Discussion from 'flarum/models/Discussion';\nimport User from 'flarum/models/User';\nimport addRecipientLabels from './addRecipientLabels';\nimport addRecipientsControl from './addRecipientsControl';\nimport addHasRecipientsBadge from './addHasRecipientsBadge';\nimport addDiscussPrivatelyControl from './addDiscussPrivatelyControl';\nimport addPrivacySetting from './addPrivacySetting';\nimport addPrivateDiscussionsPage from './addPrivateDiscussionsPage';\nimport NotificationGrid from 'flarum/components/NotificationGrid';\nimport PrivateDiscussionNotification from './components/notifications/PrivateDiscussionNotification';\nimport PrivateDiscussionRepliedNotification from './components/notifications/PrivateDiscussionReplyNotification';\nimport PrivateDiscussionUserLeftNotification from './components/notifications/PrivateDiscussionUserLeftNotification';\nimport PrivateDiscussionAddedNotification from './components/notifications/PrivateDiscussionAddedNotification';\nimport PrivateDiscussionMadePublicNotification from './components/notifications/PrivateDiscussionMadePublicNotification';\nimport RecipientsModified from './components/RecipientsModified';\nimport RecipientLeft from './components/RecipientLeft';\nimport addPrivateDiscussionSessionDropdown from './addPrivateDiscussionsToSessionDropdown';\n\nexport * from '../common/helpers';\nexport * from './components';\n\napp.initializers.add('fof-byobu', function (app) {\n    //app.routes['private_discussions'] = { path: '/private-discussions', component: PrivateDiscussionIndex.component() };\n\n    Discussion.prototype.recipientUsers = Model.hasMany('recipientUsers');\n    Discussion.prototype.oldRecipientUsers = Model.hasMany('oldRecipientUsers');\n    Discussion.prototype.recipientGroups = Model.hasMany('recipientGroups');\n    Discussion.prototype.oldRecipientGroups = Model.hasMany('oldRecipientGroups');\n\n    Discussion.prototype.canEditRecipients = Model.attribute('canEditRecipients');\n    Discussion.prototype.canEditUserRecipients = Model.attribute('canEditUserRecipients');\n    Discussion.prototype.canEditGroupRecipients = Model.attribute('canEditGroupRecipients');\n    Discussion.prototype.canEditGroupRecipients = Model.attribute('canEditGroupRecipients');\n    Discussion.prototype.canMakePublic = Model.attribute('canMakePublic');\n\n    User.prototype.blocksPd = Model.attribute('blocksPd');\n    User.prototype.cannotBeDirectMessaged = Model.attribute('cannotBeDirectMessaged');\n\n    app.postComponents.recipientsModified = RecipientsModified;\n    app.postComponents.recipientLeft = RecipientLeft;\n\n    addRecipientLabels();\n    addRecipientsControl();\n    addHasRecipientsBadge();\n    addPrivacySetting();\n\n    addDiscussPrivatelyControl();\n\n    addPrivateDiscussionsPage();\n    addPrivateDiscussionSessionDropdown();\n\n    app.notificationComponents.byobuPrivateDiscussionCreated = PrivateDiscussionNotification;\n    app.notificationComponents.byobuPrivateDiscussionReplied = PrivateDiscussionRepliedNotification;\n    app.notificationComponents.byobuRecipientRemoved = PrivateDiscussionUserLeftNotification;\n    app.notificationComponents.byobuPrivateDiscussionAdded = PrivateDiscussionAddedNotification;\n    app.notificationComponents.byobuMadePublic = PrivateDiscussionMadePublicNotification;\n\n    // Add notification preferences.\n    extend(NotificationGrid.prototype, 'notificationTypes', function (items) {\n        items.add('byobuPrivateDiscussionCreated', {\n            name: 'byobuPrivateDiscussionCreated',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_label'),\n        });\n        items.add('byobuPrivateDiscussionReplied', {\n            name: 'byobuPrivateDiscussionReplied',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_reply_label'),\n        });\n        items.add('byobuPrivateDiscussionAdded', {\n            name: 'byobuPrivateDiscussionAdded',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_added_label'),\n        });\n        items.add('byobuRecipientRemoved', {\n            name: 'byobuRecipientRemoved',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_user_left_label'),\n        });\n        items.add('byobuMadePublic', {\n            name: 'byobuMadePublic',\n            icon: 'fas fa-map',\n            label: app.translator.trans('fof-byobu.forum.notifications.pd_made_public_label'),\n        });\n    });\n});\n","import DiscussionListState from 'flarum/states/DiscussionListState';\n\nexport default class PrivateDiscussionLisState extends DiscussionListState { }\n","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Badge'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/DiscussionHero'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/EventPost'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Notification'];","module.exports = flarum.core.compat['components/NotificationGrid'];","module.exports = flarum.core.compat['components/Search'];","module.exports = flarum.core.compat['components/SessionDropdown'];","module.exports = flarum.core.compat['components/SettingsPage'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/highlight'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/Group'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['states/DiscussionListState'];","module.exports = flarum.core.compat['states/SearchState'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/Stream'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['utils/classList'];","module.exports = flarum.core.compat['utils/extract'];","module.exports = flarum.core.compat['utils/extractText'];"],"sourceRoot":""}