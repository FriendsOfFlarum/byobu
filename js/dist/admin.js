module.exports=function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=44)}({0:function(t,e){t.exports=flarum.core.compat.extend},10:function(t,e){t.exports=flarum.core.compat["components/Switch"]},11:function(t,e){t.exports=flarum.core.compat["components/Select"]},20:function(t,e){t.exports=flarum.core.compat["components/PermissionGrid"]},22:function(t,e,s){"use strict";var r=s(40),i=s.n(r),n=s(0),o=s(20),a=s.n(o),p=function(){Object(n.extend)(a.a.prototype,"startItems",function(t){t.add("startPrivateUsers",{icon:"far fa-map",label:app.translator.trans("fof-byobu.admin.permission.create_private_discussions_with_users"),permission:"discussion.startPrivateDiscussionWithUsers"},95),t.add("startPrivateGroups",{icon:"far fa-map",label:app.translator.trans("fof-byobu.admin.permission.create_private_discussions_with_groups"),permission:"discussion.startPrivateDiscussionWithGroups"},95),t.add("startPrivateBlockers",{icon:"far fa-map",label:app.translator.trans("fof-byobu.admin.permission.create_private_discussions_with_blocking_users"),permission:"startPrivateDiscussionWithBlockers"},95)}),Object(n.extend)(a.a.prototype,"moderateItems",function(t){t.add("editUserRecipients",{icon:"far fa-map",label:app.translator.trans("fof-byobu.admin.permission.edit_user_recipients"),permission:"discussion.editUserRecipients"},95),t.add("editGroupRecipients",{icon:"far fa-map",label:app.translator.trans("fof-byobu.admin.permission.edit_group_recipients"),permission:"discussion.editGroupRecipients"},95)})},c=s(41),u=s.n(c),l=s(10),d=s.n(l),f=s(42),b=s.n(f);class h extends b.a{init(){this.key=this.props.key,this.cast=this.props.cast||(t=>t)}setting(){return app.modal.component.setting(this.key)}getValue(){return this.cast(this.setting()())}}class y extends h{view(){return d.a.component({state:!!Number(this.getValue()),children:this.props.label||this.props.children,onchange:this.setting()})}}class g extends h{view(){const t=Object.assign({},this.props),e=this.props.label||this.props.children;return t.className="FormControl "+(t.className||""),t.bidi=this.setting(),t.simple?m("input",t):m("div.Form-group",[m("label",e),m("input",t)])}}class v extends g{init(){g.prototype.init.call(this),this.cast=(t=>Number(t)),this.props.type="number"}}s(11);const _={boolean:y,string:g,integer:v,number:v};var x=function(){app.extensionSettings["fof-byobu"]=function(){return app.modal.show(new class extends u.a{init(){this.props.items=Array.from(this.props.items||[]),this.settings={},this.setting=this.setting.bind(this),this.props.onsaved&&(this.onsaved=this.props.onsaved.bind(this))}className(){return[this.props.className,this.props.size&&`Modal--${this.props.size}`].filter(Boolean).join(" ")}title(){return this.props.title}form(){return this.props.form||[...this.props.items].map(t=>!t||"div"===t.tag||t.attrs&&t.attrs.className&&t.attrs.className.contains("Form-group")?t:m("div.Form-group",t))}static createItemsFromValidationRules(t,e,s){const r=[];for(const i in t){const n=e+i.toLowerCase(),o=t[i].split("|"),a=o.find(t=>_[t])||"string",p=a&&_[a]||g,c=o.includes("required"),u=s&&(app.translator.trans[`${s}${i.toLowerCase()}-label`]||i)||i,l=app.translator.translations[`${s}${i.toLowerCase()}-description`];r.push(m.prop(`div.Form-group${c?".required":""}`,["boolean"!==a&&m("label",u),p.component({type:a,key:n,required:c,children:u,simple:!0}),l&&m("span",l)]))}return r}}({title:"By≈çbu",size:"medium",items:[m(y,{key:"fof-byobu.enable_byobu_user_page"},app.translator.trans("fof-byobu.admin.settings.byobu_users_page_label"))]}))}};app.initializers.add("fof-byobu",function(t){t.store.models.recipients=i.a,p(),x()})},40:function(t,e){t.exports=flarum.core.compat["core/models/User"]},41:function(t,e){t.exports=flarum.core.compat["components/SettingsModal"]},42:function(t,e){t.exports=flarum.core.compat.Component},44:function(t,e,s){"use strict";s.r(e);var r=s(9);for(var i in r)"default"!==i&&function(t){s.d(e,t,function(){return r[t]})}(i);s(22)},9:function(t,e){}});
//# sourceMappingURL=admin.js.map